(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var fm={exports:{}},Ll={};var Fv;function Mw(){if(Fv)return Ll;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Gv;function Vw(){return Gv||(Gv=1,fm.exports=Mw()),fm.exports}var ee=Vw(),dm={exports:{}},Ee={};var Kv;function xw(){if(Kv)return Ee;Kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),b=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,P={};function ne(M,W,ae){this.props=M,this.context=W,this.refs=P,this.updater=ae||Q}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function te(){}te.prototype=ne.prototype;function re(M,W,ae){this.props=M,this.context=W,this.refs=P,this.updater=ae||Q}var Ie=re.prototype=new te;Ie.constructor=re,$(Ie,ne.prototype),Ie.isPureReactComponent=!0;var Ce=Array.isArray;function Re(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,W,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:W,ref:ue!==void 0?ue:null,props:ae}}function V(M,W){return R(M.type,W,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function rt(M,W){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):W.toString(36)}function Ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Re,Re):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,W,ae,ue,_e){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(be){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=M._init,K(Pe(M._payload),W,ae,ue,_e)}}if(Pe)return _e=_e(M),Pe=ue===""?"."+rt(M,0):ue,Ce(_e)?(ae="",Pe!=null&&(ae=Pe.replace(I,"$&/")+"/"),K(_e,W,ae,"",function(ys){return ys})):_e!=null&&(O(_e)&&(_e=V(_e,ae+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Pe)),W.push(_e)),1;Pe=0;var Mt=ue===""?".":ue+":";if(Ce(M))for(var st=0;st<M.length;st++)ue=M[st],be=Mt+rt(ue,st),Pe+=K(ue,W,ae,be,_e);else if(st=k(M),typeof st=="function")for(M=st.call(M),st=0;!(ue=M.next()).done;)ue=ue.value,be=Mt+rt(ue,st++),Pe+=K(ue,W,ae,be,_e);else if(be==="object"){if(typeof M.then=="function")return K(Ot(M),W,ae,ue,_e);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(M,W,ae){if(M==null)return M;var ue=[],_e=0;return K(M,ue,"","",function(be){return W.call(ae,be,_e++)}),ue}function me(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,W,ae){se(M,function(){W.apply(this,arguments)},ae)},count:function(M){var W=0;return se(M,function(){W++}),W},toArray:function(M){return se(M,function(W){return W})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ee.Activity=A,Ee.Children=Ge,Ee.Component=ne,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=re,Ee.StrictMode=s,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(M,W,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=$({},M.props),_e=M.key;if(W!=null)for(be in W.key!==void 0&&(_e=""+W.key),W)!w.call(W,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&W.ref===void 0||(ue[be]=W[be]);var be=arguments.length-2;if(be===1)ue.children=ae;else if(1<be){for(var Pe=Array(be),Mt=0;Mt<be;Mt++)Pe[Mt]=arguments[Mt+2];ue.children=Pe}return R(M.type,_e,ue)},Ee.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ee.createElement=function(M,W,ae){var ue,_e={},be=null;if(W!=null)for(ue in W.key!==void 0&&(be=""+W.key),W)w.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=W[ue]);var Pe=arguments.length-2;if(Pe===1)_e.children=ae;else if(1<Pe){for(var Mt=Array(Pe),st=0;st<Pe;st++)Mt[st]=arguments[st+2];_e.children=Mt}if(M&&M.defaultProps)for(ue in Pe=M.defaultProps,Pe)_e[ue]===void 0&&(_e[ue]=Pe[ue]);return R(M,be,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:m,render:M}},Ee.isValidElement=O,Ee.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Ee.memo=function(M,W){return{$$typeof:p,type:M,compare:W===void 0?null:W}},Ee.startTransition=function(M){var W=D.T,ae={};D.T=ae;try{var ue=M(),_e=D.S;_e!==null&&_e(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,ze)}catch(be){ze(be)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),D.T=W}},Ee.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ee.use=function(M){return D.H.use(M)},Ee.useActionState=function(M,W,ae){return D.H.useActionState(M,W,ae)},Ee.useCallback=function(M,W){return D.H.useCallback(M,W)},Ee.useContext=function(M){return D.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,W){return D.H.useDeferredValue(M,W)},Ee.useEffect=function(M,W){return D.H.useEffect(M,W)},Ee.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Ee.useId=function(){return D.H.useId()},Ee.useImperativeHandle=function(M,W,ae){return D.H.useImperativeHandle(M,W,ae)},Ee.useInsertionEffect=function(M,W){return D.H.useInsertionEffect(M,W)},Ee.useLayoutEffect=function(M,W){return D.H.useLayoutEffect(M,W)},Ee.useMemo=function(M,W){return D.H.useMemo(M,W)},Ee.useOptimistic=function(M,W){return D.H.useOptimistic(M,W)},Ee.useReducer=function(M,W,ae){return D.H.useReducer(M,W,ae)},Ee.useRef=function(M){return D.H.useRef(M)},Ee.useState=function(M){return D.H.useState(M)},Ee.useSyncExternalStore=function(M,W,ae){return D.H.useSyncExternalStore(M,W,ae)},Ee.useTransition=function(){return D.H.useTransition()},Ee.version="19.2.4",Ee}var Yv;function dp(){return Yv||(Yv=1,dm.exports=xw()),dm.exports}var F=dp(),mm={exports:{}},kl={},pm={exports:{}},gm={};var Qv;function Lw(){return Qv||(Qv=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var ze=me-1>>>1,Ge=K[ze];if(0<o(Ge,se))K[ze]=se,K[me]=Ge,me=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var ze=0,Ge=K.length,M=Ge>>>1;ze<M;){var W=2*(ze+1)-1,ae=K[W],ue=W+1,_e=K[ue];if(0>o(ae,me))ue<Ge&&0>o(_e,ae)?(K[ze]=_e,K[ue]=me,ze=ue):(K[ze]=ae,K[W]=me,ze=W);else if(ue<Ge&&0>o(_e,me))K[ze]=_e,K[ue]=me,ze=ue;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],p=[],E=1,A=null,b=3,k=!1,Q=!1,$=!1,P=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ie(K){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=K)s(p),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(p)}}function Ce(K){if($=!1,Ie(K),!Q)if(n(y)!==null)Q=!0,Re||(Re=!0,L());else{var se=n(p);se!==null&&Ot(Ce,se.startTime-K)}}var Re=!1,D=-1,w=5,R=-1;function V(){return P?!0:!(r.unstable_now()-R<w)}function O(){if(P=!1,Re){var K=r.unstable_now();R=K;var se=!0;try{e:{Q=!1,$&&($=!1,te(D),D=-1),k=!0;var me=b;try{t:{for(Ie(K),A=n(y);A!==null&&!(A.expirationTime>K&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,b=A.priorityLevel;var Ge=ze(A.expirationTime<=K);if(K=r.unstable_now(),typeof Ge=="function"){A.callback=Ge,Ie(K),se=!0;break t}A===n(y)&&s(y),Ie(K)}else s(y);A=n(y)}if(A!==null)se=!0;else{var M=n(p);M!==null&&Ot(Ce,M.startTime-K),se=!1}}break e}finally{A=null,b=me,k=!1}se=void 0}}finally{se?L():Re=!1}}}var L;if(typeof re=="function")L=function(){re(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=O,L=function(){rt.postMessage(null)}}else L=function(){ne(O,0)};function Ot(K,se){D=ne(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var me=b;b=se;try{return K()}finally{b=me}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=b;b=K;try{return se()}finally{b=me}},r.unstable_scheduleCallback=function(K,se,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,K={id:E++,callback:se,priorityLevel:K,startTime:me,expirationTime:Ge,sortIndex:-1},me>ze?(K.sortIndex=me,e(p,K),n(y)===null&&K===n(p)&&($?(te(D),D=-1):$=!0,Ot(Ce,me-ze))):(K.sortIndex=Ge,e(y,K),Q||k||(Q=!0,Re||(Re=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var se=b;return function(){var me=b;b=se;try{return K.apply(this,arguments)}finally{b=me}}}})(gm)),gm}var $v;function kw(){return $v||($v=1,pm.exports=Lw()),pm.exports}var ym={exports:{}},$t={};var Xv;function Pw(){if(Xv)return $t;Xv=1;var r=dp();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,E)},$t.flushSync=function(y){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=p,s.p=E,s.d.f()}},$t.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},$t.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},$t.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:k}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:b,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},$t.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},$t.requestFormReset=function(y){s.d.r(y)},$t.unstable_batchedUpdates=function(y,p){return y(p)},$t.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var Jv;function Uw(){if(Jv)return ym.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=Pw(),ym.exports}var Wv;function zw(){if(Wv)return kl;Wv=1;var r=kw(),e=dp(),n=Uw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ne:return"Profiler";case P:return"StrictMode";case Ce:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case Ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function M(t){return{current:t}}function W(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ue=M(null),_e=M(null),be=M(null),Pe=M(null);function Mt(t,i){switch(ae(be,i),ae(_e,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=dv(i),t=mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),ae(ue,t)}function st(){W(ue),W(_e),W(be)}function ys(t){t.memoizedState!==null&&ae(Pe,t);var i=ue.current,a=mv(i,t.type);i!==a&&(ae(_e,t),ae(ue,a))}function fa(t){_e.current===t&&(W(ue),W(_e)),Pe.current===t&&(W(Pe),Ol._currentValue=me)}var da,ma;function hi(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var Oo=!1;function _s(t,i){if(!t||Oo)return"";Oo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var j=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){j=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){j=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),B=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Oo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Mo(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return hi("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Mo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,mf=r.unstable_shouldYield,vu=r.unstable_requestPaint,en=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,Lo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Au=r.unstable_setDisableYieldValue,Gn=null,Bt=null;function Cn(t){if(typeof Tu=="function"&&Au(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,t)}catch{}}var dt=Math.clz32?Math.clz32:bu,Su=Math.log,pa=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Su(t)/pa|0)|0}var fi=256,Es=262144,Et=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=di(l):(_&=T,_!==0?h=di(_):a||(a=T&~t,a!==0&&(h=di(a))))):(T=l&~d,T!==0?h=di(T):_!==0?h=di(_):a||(a=l&~t,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-dt(a),J=1<<G;T[G]=0,C[G]=-1;var j=B[G];if(j!==null)for(B[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&As(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function Yn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,kt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,ga="__reactEvents$"+Qn,_f="__reactListeners$"+Qn,Iu="__reactHandles$"+Qn,Cu="__reactResources$"+Qn,yi="__reactMarker$"+Qn;function ya(t){delete t[Tt],delete t[kt],delete t[ga],delete t[_f],delete t[Iu]}function _i(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Tv(t);t!==null;){if(a=t[Tt])return a;t=Tv(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Tt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[yi]=!0}var Uo=new Set,zo={};function Ei(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(zo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},qo={};function Du(t){return vt.call(qo,t)?!0:vt.call(jo,t)?!1:Bo.test(t)?qo[t]=!0:(jo[t]=!0,!1)}function _a(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function bs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ws=/[\n"\\]/g;function sn(t){return t.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,Pt(i)):a!=null?Fo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Nu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Fo(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Yo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,Si=null;function Rs(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&bs(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var Aa=!1;function wr(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var l=t(i);return l}finally{if(Aa=!1,(br!==null||Si!==null)&&(Rc(),br&&(i=br,t=Si,Si=br=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(On)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Is=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Is=!1}var bi=null,Qo=null,Cs=null;function $o(){if(Cs)return Cs;var t,i=Qo,a=i.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cs=h.slice(t,1<l?1-l:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Jn(){return!1}function jt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Jn,this.isPropagationStopped=Jn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=jt(Fi),Rr=A({},Fi,{view:0,detail:0}),Xo=jt(Rr),Ir,Sa,Ri,ba=A({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Ir=t.screenX-Ri.screenX,Sa=t.screenY-Ri.screenY):Sa=Ir=0,Ri=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Jo=jt(ba),Ns=A({},ba,{dataTransfer:0}),xu=jt(Ns),Lu=A({},Rr,{relatedTarget:0}),Os=jt(Lu),Wo=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=jt(Wo),wa=A({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=jt(wa),Uu=A({},Fi,{data:0}),Ii=jt(Uu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function Cr(){return qu}var tn=A({},Rr,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=jt(tn),Fu=A({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=jt(Fu),c=A({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),g=jt(c),v=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=jt(v),U=A({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=jt(U),ie=A({},Fi,{newState:0,oldState:0}),Ae=jt(ie),mt=[9,13,27,32],qe=On&&"CompositionEvent"in window,at=null;On&&"documentMode"in document&&(at=document.documentMode);var Mn=On&&"TextEvent"in window&&!at,Ci=On&&(!qe||at&&8<at&&11>=at),Wn=" ",Zn=!1;function Ms(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function nb(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(Zn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Zn?null:t;default:return null}}function ib(t,i){if(Ia)return t==="compositionend"||!qe&&Ms(t,i)?(t=$o(),Cs=Qo=bi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!rb[t.type]:i==="textarea"}function wg(t,i,a,l){br?Si?Si.push(l):Si=[l]:br=l,i=Vc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,el=null;function sb(t){ov(t,0)}function Gu(t){var i=gn(t);if(bs(i))return t}function Rg(t,i){if(t==="change")return i}var Ig=!1;if(On){var vf;if(On){var Ef="oninput"in document;if(!Ef){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Ef=typeof Cg.oninput=="function"}vf=Ef}else vf=!1;Ig=vf&&(!document.documentMode||9<document.documentMode)}function Dg(){Zo&&(Zo.detachEvent("onpropertychange",Ng),el=Zo=null)}function Ng(t){if(t.propertyName==="value"&&Gu(el)){var i=[];wg(i,el,t,Nn(t)),wr(sb,i)}}function ab(t,i,a){t==="focusin"?(Dg(),Zo=i,el=a,Zo.attachEvent("onpropertychange",Ng)):t==="focusout"&&Dg()}function ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(el)}function lb(t,i){if(t==="click")return Gu(i)}function ub(t,i){if(t==="input"||t==="change")return Gu(i)}function cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:cb;function tl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,i){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hb=On&&"documentMode"in document&&11>=document.documentMode,Ca=null,Af=null,nl=null,Sf=!1;function Lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Ca==null||Ca!==Ai(l)||(l=Ca,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Vc(Af,"onSelect"),0<l.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},bf={},kg={};On&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function xs(t){if(bf[t])return bf[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in kg)return bf[t]=i[a];return t}var Pg=xs("animationend"),Ug=xs("animationiteration"),zg=xs("animationstart"),fb=xs("transitionrun"),db=xs("transitionstart"),mb=xs("transitioncancel"),Bg=xs("transitionend"),jg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function ei(t,i){jg.set(t,i),Ei(i,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Na=0,Rf=0;function Yu(){for(var t=Na,i=Rf=Na=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&qg(a,h,d)}}function Qu(t,i,a,l){Vn[Na++]=t,Vn[Na++]=i,Vn[Na++]=a,Vn[Na++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,i,a,l){return Qu(t,i,a,l),$u(t)}function Ls(t,i){return Qu(t,null,null,i),$u(t)}function qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function $u(t){if(50<bl)throw bl=0,kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function pb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new pb(t,i,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=Ew(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,h),t.elementType=R,t.lanes=d,t;case $:return ks(a.children,h,d,i);case P:_=8,h|=24;break;case ne:return t=vn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Ce:return t=vn(13,a,i,h),t.elementType=Ce,t.lanes=d,t;case Re:return t=vn(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case te:_=9;break e;case Ie:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ks(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Df(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Fg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Nf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Gg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Gg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},Gg.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var Ma=[],Va=0,Ju=null,il=0,Ln=[],kn=0,Dr=null,Di=1,Ni="";function Yi(t,i){Ma[Va++]=il,Ma[Va++]=Ju,Ju=t,il=i}function Kg(t,i,a){Ln[kn++]=Di,Ln[kn++]=Ni,Ln[kn++]=Dr,Dr=t;var l=Di;t=Ni;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Di=1<<32-dt(i)+h|a<<h|l,Ni=d+t}else Di=1<<d|a<<h|l,Ni=t}function Of(t){t.return!==null&&(Yi(t,1),Kg(t,1,0))}function Mf(t){for(;t===Ju;)Ju=Ma[--Va],Ma[Va]=null,il=Ma[--Va],Ma[Va]=null;for(;t===Dr;)Dr=Ln[--kn],Ln[kn]=null,Ni=Ln[--kn],Ln[kn]=null,Di=Ln[--kn],Ln[kn]=null}function Yg(t,i){Ln[kn++]=Di,Ln[kn++]=Ni,Ln[kn++]=Dr,Di=i.id,Ni=i.overflow,Dr=t}var qt=null,tt=null,ke=!1,Nr=null,Pn=!1,Vf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(xn(i,t)),Vf}function Qg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ne(Rl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Nu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||hv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Or(t,!0)}function $g(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qt=qt.return}}function xa(t){if(t!==qt)return!1;if(!ke)return $g(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&tt&&Or(t),$g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Ev(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Ev(t)}else i===27?(i=tt,Gr(t.type)?(t=nm,nm=null,tt=t):tt=i):tt=qt?zn(t.stateNode.nextSibling):null;return!0}function Ps(){tt=qt=null,ke=!1}function xf(){var t=Nr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Nr=null),t}function rl(t){Nr===null?Nr=[t]:Nr.push(t)}var Lf=M(null),Us=null,Qi=null;function Mr(t,i,a){ae(Lf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Lf.current,W(Lf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&Pf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Us=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Xg(Us,t)}function Zu(t,i){return Us===null&&zs(t),Xg(t,i)}function Xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var gb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},yb=r.unstable_scheduleCallback,_b=r.unstable_NormalPriority,bt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new gb,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&yb(_b,function(){t.controller.abort()})}var al=null,zf=0,ka=0,Pa=null;function vb(t,i){if(al===null){var a=al=[];zf=0,ka=qd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,i.then(Jg,Jg),i}function Jg(){if(--zf===0&&al!==null){Pa!==null&&(Pa.status="fulfilled");var t=al;al=null,ka=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Eb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=K.S;K.S=function(t,i){L_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&vb(t,i),Wg!==null&&Wg(t,i)};var Bs=M(null);function Bf(){var t=Bs.current;return t!==null?t:Ze.pooledCache}function ec(t,i){i===null?ae(Bs,Bs.current):ae(Bs,i.pool)}function Zg(){var t=Bf();return t===null?null:{parent:bt._currentValue,pool:t}}var Ua=Error(s(460)),jf=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ty(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,iy(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,iy(t),t}throw qs=i,Ua}}function js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,Ua):a}}var qs=null;function ny(){if(qs===null)throw Error(s(459));var t=qs;return qs=null,t}function iy(t){if(t===Ua||t===tc)throw Error(s(483))}var za=null,ol=0;function ic(t){var i=ol;return ol+=1,za===null&&(za=[]),ty(za,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ry(t){function i(x,N){if(t){var z=x.deletions;z===null?(x.deletions=[N],x.flags|=16):z.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ki(x,N),x.index=0,x.sibling=null,x}function d(x,N,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<N?(x.flags|=67108866,N):z):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,z,Y){return N===null||N.tag!==6?(N=Df(z,x.mode,Y),N.return=x,N):(N=h(N,z),N.return=x,N)}function C(x,N,z,Y){var fe=z.type;return fe===$?G(x,N,z.props.children,Y,z.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&js(fe)===N.type)?(N=h(N,z.props),ll(N,z),N.return=x,N):(N=Xu(z.type,z.key,z.props,null,x.mode,Y),ll(N,z),N.return=x,N)}function B(x,N,z,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Nf(z,x.mode,Y),N.return=x,N):(N=h(N,z.children||[]),N.return=x,N)}function G(x,N,z,Y,fe){return N===null||N.tag!==7?(N=ks(z,x.mode,Y,fe),N.return=x,N):(N=h(N,z),N.return=x,N)}function J(x,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Df(""+N,x.mode,z),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case k:return z=Xu(N.type,N.key,N.props,null,x.mode,z),ll(z,N),z.return=x,z;case Q:return N=Nf(N,x.mode,z),N.return=x,N;case w:return N=js(N),J(x,N,z)}if(Ot(N)||L(N))return N=ks(N,x.mode,z,null),N.return=x,N;if(typeof N.then=="function")return J(x,ic(N),z);if(N.$$typeof===re)return J(x,Zu(x,N),z);rc(x,N)}return null}function j(x,N,z,Y){var fe=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(x,N,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===fe?C(x,N,z,Y):null;case Q:return z.key===fe?B(x,N,z,Y):null;case w:return z=js(z),j(x,N,z,Y)}if(Ot(z)||L(z))return fe!==null?null:G(x,N,z,Y,null);if(typeof z.then=="function")return j(x,N,ic(z),Y);if(z.$$typeof===re)return j(x,N,Zu(x,z),Y);rc(x,z)}return null}function H(x,N,z,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(z)||null,T(N,x,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return x=x.get(Y.key===null?z:Y.key)||null,C(N,x,Y,fe);case Q:return x=x.get(Y.key===null?z:Y.key)||null,B(N,x,Y,fe);case w:return Y=js(Y),H(x,N,z,Y,fe)}if(Ot(Y)||L(Y))return x=x.get(z)||null,G(N,x,Y,fe,null);if(typeof Y.then=="function")return H(x,N,z,ic(Y),fe);if(Y.$$typeof===re)return H(x,N,z,Zu(N,Y),fe);rc(N,Y)}return null}function ce(x,N,z,Y){for(var fe=null,Be=null,he=N,we=N=0,Me=null;he!==null&&we<z.length;we++){he.index>we?(Me=he,he=null):Me=he.sibling;var je=j(x,he,z[we],Y);if(je===null){he===null&&(he=Me);break}t&&he&&je.alternate===null&&i(x,he),N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je,he=Me}if(we===z.length)return a(x,he),ke&&Yi(x,we),fe;if(he===null){for(;we<z.length;we++)he=J(x,z[we],Y),he!==null&&(N=d(he,N,we),Be===null?fe=he:Be.sibling=he,Be=he);return ke&&Yi(x,we),fe}for(he=l(he);we<z.length;we++)Me=H(he,x,we,z[we],Y),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?we:Me.key),N=d(Me,N,we),Be===null?fe=Me:Be.sibling=Me,Be=Me);return t&&he.forEach(function(Xr){return i(x,Xr)}),ke&&Yi(x,we),fe}function pe(x,N,z,Y){if(z==null)throw Error(s(151));for(var fe=null,Be=null,he=N,we=N=0,Me=null,je=z.next();he!==null&&!je.done;we++,je=z.next()){he.index>we?(Me=he,he=null):Me=he.sibling;var Xr=j(x,he,je.value,Y);if(Xr===null){he===null&&(he=Me);break}t&&he&&Xr.alternate===null&&i(x,he),N=d(Xr,N,we),Be===null?fe=Xr:Be.sibling=Xr,Be=Xr,he=Me}if(je.done)return a(x,he),ke&&Yi(x,we),fe;if(he===null){for(;!je.done;we++,je=z.next())je=J(x,je.value,Y),je!==null&&(N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je);return ke&&Yi(x,we),fe}for(he=l(he);!je.done;we++,je=z.next())je=H(he,x,we,je.value,Y),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?we:je.key),N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je);return t&&he.forEach(function(Ow){return i(x,Ow)}),ke&&Yi(x,we),fe}function We(x,N,z,Y){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var fe=z.key;N!==null;){if(N.key===fe){if(fe=z.type,fe===$){if(N.tag===7){a(x,N.sibling),Y=h(N,z.props.children),Y.return=x,x=Y;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&js(fe)===N.type){a(x,N.sibling),Y=h(N,z.props),ll(Y,z),Y.return=x,x=Y;break e}a(x,N);break}else i(x,N);N=N.sibling}z.type===$?(Y=ks(z.props.children,x.mode,Y,z.key),Y.return=x,x=Y):(Y=Xu(z.type,z.key,z.props,null,x.mode,Y),ll(Y,z),Y.return=x,x=Y)}return _(x);case Q:e:{for(fe=z.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(x,N.sibling),Y=h(N,z.children||[]),Y.return=x,x=Y;break e}else{a(x,N);break}else i(x,N);N=N.sibling}Y=Nf(z,x.mode,Y),Y.return=x,x=Y}return _(x);case w:return z=js(z),We(x,N,z,Y)}if(Ot(z))return ce(x,N,z,Y);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(x,N,z,Y)}if(typeof z.then=="function")return We(x,N,ic(z),Y);if(z.$$typeof===re)return We(x,N,Zu(x,z),Y);rc(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(x,N.sibling),Y=h(N,z),Y.return=x,x=Y):(a(x,N),Y=Df(z,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,N)}return function(x,N,z,Y){try{ol=0;var fe=We(x,N,z,Y);return za=null,fe}catch(he){if(he===Ua||he===tc)throw he;var Be=vn(29,he,null,x.mode);return Be.lanes=Y,Be.return=x,Be}}}var Hs=ry(!0),sy=ry(!1),Vr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=$u(t),qg(t,null,a),i}return Qu(t,l,i,a),$u(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function Ff(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function cl(){if(Gf){var t=Pa;if(t!==null)throw t}}function hl(t,i,a,l){Gf=!1;var h=t.updateQueue;Vr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=B:T.next=B,G.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;_=0,G=B=C=null,T=d;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Oe&j)===j:(l&j)===j){j!==0&&j===ka&&(Gf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,pe=T;j=i;var We=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){J=ce.call(We,J,j);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,j=typeof ce=="function"?ce.call(We,J,j):ce,j==null)break e;J=A({},J,j);break e;case 2:Vr=!0}}j=T.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(B=G=H,C=J):G=G.next=H,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=J),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Br|=_,t.lanes=_,t.memoizedState=J}}function ay(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function oy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ay(a[t],i)}var Ba=M(null),sc=M(0);function ly(t,i){t=rr,ae(sc,t),ae(Ba,i),rr=t|i.baseLanes}function Kf(){ae(sc,rr),ae(Ba,Ba.current)}function Yf(){rr=sc.current,W(Ba),W(sc)}var En=M(null),Un=null;function kr(t){var i=t.alternate;ae(pt,pt.current&1),ae(En,t),Un===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(Un=t)}function Qf(t){ae(pt,pt.current),ae(En,t),Un===null&&(Un=t)}function uy(t){t.tag===22?(ae(pt,pt.current),ae(En,t),Un===null&&(Un=t)):Pr()}function Pr(){ae(pt,pt.current),ae(En,En.current)}function Tn(t){W(En),Un===t&&(Un=null),W(pt)}var pt=M(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Se=null,Xe=null,wt=null,oc=!1,ja=!1,Fs=!1,lc=0,fl=0,qa=null,Tb=0;function ct(){throw Error(s(321))}function $f(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Xf(t,i,a,l,h,d){return Xi=d,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Ky:hd,Fs=!1,d=a(l,h),Fs=!1,ja&&(d=hy(i,a,l,h)),cy(t),d}function cy(t){K.H=pl;var i=Xe!==null&&Xe.next!==null;if(Xi=0,wt=Xe=Se=null,oc=!1,fl=0,qa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Wu(t)&&(Rt=!0))}function hy(t,i,a,l){Se=t;var h=0;do{if(ja&&(qa=null),fl=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Yy,d=i(a,l)}while(ja);return d}function Ab(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Se.flags|=1024),i}function Jf(){var t=lc!==0;return lc=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Xi=0,wt=Xe=Se=null,ja=!1,fl=lc=0,qa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Se.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(Xe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=wt===null?Se.memoizedState:wt.next;if(i!==null)wt=i,Xe=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Se.memoizedState=wt=t:wt=wt.next=t}return wt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,qa===null&&(qa=[]),t=ty(qa,t,i),i=Se,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ky:hd),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===re)return Ht(t)}throw Error(s(438,String(t)))}function ed(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=gt();return td(i,Xe,t)}function td(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,B=i,G=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Oe&J)===J:(Xi&J)===J){var j=B.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===ka&&(G=!0);else if((Xi&j)===j){B=B.next,j===ka&&(G=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=J,_=d):C=C.next=J,Se.lanes|=j,Br|=j;J=B.action,Fs&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else j={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=j,_=d):C=C.next=j,Se.lanes|=J,Br|=J;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=T,!_n(d,t.memoizedState)&&(Rt=!0,G&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function fy(t,i,a){var l=Se,h=gt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,sd(py.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},my.bind(null,l,h,a,i),null),Ze===null)throw Error(s(349));d||(Xi&127)!==0||dy(l,i,a)}return a}function dy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=uc(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function my(t,i,a,l){i.value=a,i.getSnapshot=l,gy(i)&&yy(t)}function py(t,i,a){return a(function(){gy(i)&&yy(t)})}function gy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function yy(t){var i=Ls(t,2);i!==null&&hn(i,t,2)}function id(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Fs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function _y(t,i,a,l){return t.baseState=a,td(t,Xe,typeof l=="function"?l:Ji)}function Sb(t,i,a,l,h){if(mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,vy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function vy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),C=K.S;C!==null&&C(_,T),Ey(t,i,T)}catch(B){rd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Ey(t,i,d)}catch(B){rd(t,i,B)}}function Ey(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ty(t,i,l)},function(l){return rd(t,i,l)}):Ty(t,i,a)}function Ty(t,i,a){i.status="fulfilled",i.value=a,Ay(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,vy(t,a)))}function rd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}t.action=null}function Ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function by(t,i){if(ke){var a=Ze.formState;if(a!==null){e:{var l=Se;if(ke){if(tt){t:{for(var h=tt,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=zn(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=Hy.bind(null,Se,l),l.dispatch=a,l=id(!1),d=cd.bind(null,Se,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Sb.bind(null,Se,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function wy(t){var i=gt();return Ry(i,Xe,t)}function Ry(t,i,a){if(i=td(t,i,Sy)[0],t=hc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===Ua?tc:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,Ha(9,{destroy:void 0},bb.bind(null,h,a),null)),[l,d,t]}function bb(t,i){t.action=i}function Iy(t){var i=gt(),a=Xe;if(a!==null)return Ry(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=uc(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Cy(){return gt().memoizedState}function fc(t,i,a,l){var h=nn();Se.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function dc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&$f(l,Xe.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Se.flags|=t,h.memoizedState=Ha(1|i,d,a,l))}function Dy(t,i){fc(8390656,8,t,i)}function sd(t,i){dc(2048,8,t,i)}function wb(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=uc(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ny(t){var i=gt().memoizedState;return wb({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(t,i){return dc(4,2,t,i)}function My(t,i){return dc(4,4,t,i)}function Vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function xy(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,Vy.bind(null,i,t),a)}function ad(){}function Ly(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$f(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ky(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$f(i,l[1]))return l[0];if(l=t(),Fs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function od(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=P_(),Se.lanes|=t,Br|=t,a)}function Py(t,i,a,l){return _n(a,i)?a:Ba.current!==null?(t=od(t,a,l),_n(t,i)||(Rt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=P_(),Se.lanes|=t,Br|=t,i)}function Uy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,cd(t,!1,i,a);try{var C=h(),B=K.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Eb(C,l);ml(t,i,G,bn(t))}else ml(t,i,l,bn(t))}catch(J){ml(t,i,{then:function(){},status:"rejected",reason:J},bn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function Rb(){}function ld(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=zy(t).queue;Uy(t,h,i,me,a===null?Rb:function(){return By(t),a(l)})}function zy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function By(t){var i=zy(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},bn())}function ud(){return Ht(Ol)}function jy(){return gt().memoizedState}function qy(){return gt().memoizedState}function Ib(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=xr(a);var l=Lr(i,t,a);l!==null&&(hn(l,i,a),ul(l,i,a)),i={cache:Uf()},t.payload=i;return}i=i.return}}function Cb(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?Fy(i,a):(a=If(t,i,a,l),a!==null&&(hn(a,t,l),Gy(a,i,l)))}function Hy(t,i,a){var l=bn();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Fy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Qu(t,i,h,0),Ze===null&&Yu(),!1}catch{}if(a=If(t,i,h,l),a!==null)return hn(a,t,l),Gy(a,i,l),!0}return!1}function cd(t,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(s(479))}else i=If(t,a,l,2),i!==null&&hn(i,t,2)}function mc(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function Fy(t,i){ja=oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Gy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var pl={readContext:Ht,use:cc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};pl.useEffectEvent=ct;var Ky={readContext:Ht,use:cc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Dy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,Vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Fs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Fs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Cb.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,a=Hy.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,i){var a=nn();return od(a,t,i)},useTransition:function(){var t=id(!1);return t=Uy.bind(null,Se,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Se,h=nn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Oe&127)!==0||dy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Dy(py.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},my.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Ze.identifierPrefix;if(ke){var a=Ni,l=Di;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Tb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ud,useFormState:by,useActionState:by,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return nn().memoizedState=Ib.bind(null,Se)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ht,use:cc,useCallback:Ly,useContext:Ht,useEffect:sd,useImperativeHandle:xy,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:ky,useReducer:hc,useRef:Cy,useState:function(){return hc(Ji)},useDebugValue:ad,useDeferredValue:function(t,i){var a=gt();return Py(a,Xe.memoizedState,t,i)},useTransition:function(){var t=hc(Ji)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:ud,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=gt();return _y(a,Xe,t,i)},useMemoCache:ed,useCacheRefresh:qy};hd.useEffectEvent=Ny;var Yy={readContext:Ht,use:cc,useCallback:Ly,useContext:Ht,useEffect:sd,useImperativeHandle:xy,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:ky,useReducer:nd,useRef:Cy,useState:function(){return nd(Ji)},useDebugValue:ad,useDeferredValue:function(t,i){var a=gt();return Xe===null?od(a,t,i):Py(a,Xe.memoizedState,t,i)},useTransition:function(){var t=nd(Ji)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:ud,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var a=gt();return Xe!==null?_y(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:qy};Yy.useEffectEvent=Ny;function fd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=xr(l);h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(hn(i,t,a),ul(i,t,a))}};function Qy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function $y(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&dd.enqueueReplaceState(i,i.state,null)}function Gs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Xy(t){Ku(t)}function Jy(t){console.error(t)}function Wy(t){Ku(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function e_(t){return t=xr(t),t.tag=3,t}function t_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Zy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Zy(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Db(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ic():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(t,l,h)),!1}throw Error(s(435,a.tag))}return zd(t,l,h),Ic(),!1}if(ke)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vf&&(t=Error(s(422),{cause:l}),rl(xn(t,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),rl(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=md(t.stateNode,l,h),Ff(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Sl===null?Sl=[d]:Sl.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,l,t),Ff(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e_(h),t_(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?sy(i,null,a,l):Hs(i,t.child,a,l)}function n_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return zs(i),l=Xf(t,i,a,_,d,h),T=Jf(),t!==null&&!Rt?(Wf(t,i,h),Wi(t,i,h)):(ke&&T&&Of(i),i.flags|=1,Ft(t,i,l,h),i.child)}function i_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,r_(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function r_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Sd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return gd(t,i,a,l,h)}function s_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return a_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?ly(i,d):Kf(),uy(i);else return l=i.lanes=536870912,a_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(i,d.cachePool),ly(i,d),Pr(),i.memoizedState=null):(t!==null&&ec(i,null),Kf(),Pr());return Ft(t,i,h,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function a_(t,i,a,l,h){var d=Bf();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ec(i,null),Kf(),uy(i),t!==null&&La(t,i,l,!0),i.childLanes=h,null}function gc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function o_(t,i,a){return Hs(i,t.child,null,a),t=gc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function Nb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=gc(i,l),i.lanes=536870912,gl(null,t);if(Qf(i),(t=tt)?(t=vv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Fg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return gc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Qf(i),h)if(i.flags&256)i.flags&=-257,i=o_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||La(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=Ze,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),hn(l,t,_),pd;Ic(),i=o_(t,i,a)}else t=d.treeContext,tt=zn(_.nextSibling),qt=i,ke=!0,Nr=null,Pn=!1,t!==null&&Yg(i,t),i=gc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gd(t,i,a,l,h){return zs(i),a=Xf(t,i,a,l,void 0,h),l=Jf(),t!==null&&!Rt?(Wf(t,i,h),Wi(t,i,h)):(ke&&l&&Of(i),i.flags|=1,Ft(t,i,a,h),i.child)}function l_(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=hy(i,l,a,h),cy(t),l=Jf(),t!==null&&!Rt?(Wf(t,i,d),Wi(t,i,d)):(ke&&l&&Of(i),i.flags|=1,Ft(t,i,a,d),i.child)}function u_(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&dd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Gs(a,T);d.props=C;var B=d.context,G=a.contextType;_=Oa,typeof G=="object"&&G!==null&&(_=Ht(G));var J=a.getDerivedStateFromProps;G=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&$y(i,d,l,_),Vr=!1;var j=i.memoizedState;d.state=j,hl(i,l,d,h),cl(),B=i.memoizedState,T||j!==B||Vr?(typeof J=="function"&&(fd(i,a,J,l),B=i.memoizedState),(C=Vr||Qy(i,a,C,l,j,B,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,G=Gs(a,_),d.props=G,J=i.pendingProps,j=d.context,B=a.contextType,C=Oa,typeof B=="object"&&B!==null&&(C=Ht(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||j!==C)&&$y(i,d,l,C),Vr=!1,j=i.memoizedState,d.state=j,hl(i,l,d,h),cl();var H=i.memoizedState;_!==J||j!==H||Vr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof T=="function"&&(fd(i,a,T,l),H=i.memoizedState),(G=Vr||Qy(i,a,G,l,j,H,C)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Hs(i,t.child,null,h),i.child=Hs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function c_(t,i,a,l){return Ps(),i.flags|=256,Ft(t,i,a,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:Zg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function h_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?kr(i):Pr(),(t=tt)?(t=vv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Fg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Or(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Pr(),h=i.mode,T=_c({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,gl(null,l)):(kr(i),Ed(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),T=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),T=ks(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Hs(i,t.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,i=gl(null,l));else if(kr(i),tm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=Td(t,i,a)}else if(Rt||La(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=Ze,_!==null&&(l=Po(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ls(t,l),hn(_,t,l),pd;em(T)||Ic(),i=Td(t,i,a)}else em(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,tt=zn(T.nextSibling),qt=i,ke=!0,Nr=null,Pn=!1,t!==null&&Yg(i,t),i=Ed(i,l.children),i.flags|=4096);return i}return h?(Pr(),T=l.fallback,h=i.mode,C=t.child,B=C.sibling,l=Ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?T=Ki(B,T):(T=ks(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,gl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=_d(a):(h=T.cachePool,h!==null?(C=bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Zg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=vd(t,_,a),i.memoizedState=yd,gl(t.child,l)):(kr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ed(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return Hs(i,t.child,null,a),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function f_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function Ad(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function d_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ft(t,i,l,a),l=ke?il:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,a,i);else if(t.tag===19)f_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ad(i,!0,a,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function Ob(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Mr(i,bt,t.memoizedState.cache),Ps();break;case 27:case 5:ys(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?h_(t,i,a):(kr(i),t=Wi(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return d_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,s_(t,i,a,i.pendingProps);case 24:Mr(i,bt,t.memoizedState.cache)}return Wi(t,i,a)}function m_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Rt=!1,Ob(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ke&&(i.flags&1048576)!==0&&Kg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=js(i.elementType),i.type=t,typeof t=="function")Cf(t)?(l=Gs(t,l),i.tag=1,i=u_(null,i,t,l,a)):(i.tag=0,i=gd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ie){i.tag=11,i=n_(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=i_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Gs(l,i.pendingProps),u_(t,i,l,h,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(t,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Mr(i,bt,l),l!==d.cache&&Pf(i,[bt],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=c_(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),rl(h),i=c_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=zn(t.firstChild),qt=i,ke=!0,Nr=null,Pn=!0,a=sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),l===h){i=Wi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=wv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=xc(be.current).createElement(a),l[Tt]=i,l[kt]=t,Gt(l,a,t),At(l),i.stateNode=l):i.memoizedState=wv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ys(i),t===null&&ke&&(l=i.stateNode=Av(i.type,i.pendingProps,be.current),qt=i,Pn=!0,h=tt,Gr(i.type)?(nm=h,tt=zn(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=tt)&&(l=ow(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,qt=i,tt=zn(l.firstChild),Pn=!1,h=!0):h=!1),h||Or(i)),ys(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Jd(h,d)?l=null:_!==null&&Jd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Xf(t,i,Ab,null,null,a),Ol._currentValue=h),yc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=tt)&&(a=lw(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Or(i)),null;case 13:return h_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Hs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return n_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return i_(t,i,i.type,i.pendingProps,a);case 15:return r_(t,i,i.type,i.pendingProps,a);case 19:return d_(t,i,a);case 31:return Nb(t,i,a);case 22:return s_(t,i,a,i.pendingProps);case 24:return zs(i),l=Ht(bt),t===null?(h=Bf(),h===null&&(h=Ze,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qf(i),Mr(i,bt,h)):((t.lanes&a)!==0&&(Hf(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,bt,l)):(l=d.cache,Mr(i,bt,l),l!==h.cache&&Pf(i,[bt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function bd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(j_())t.flags|=8192;else throw qs=nc,jf}else t.flags&=-16777217}function p_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(i))if(j_())t.flags|=8192;else throw qs=nc,jf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Ya|=i)}function yl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Mb(t,i,a){var l=i.pendingProps;switch(Mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(bt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xa(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(nt(i),p_(i,d)):(nt(i),bd(i,h,null,l,a))):d?d!==t.memoizedState?(Zi(i),nt(i),p_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),nt(i),bd(i,h,t,l,a)),null;case 27:if(fa(i),a=be.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,xa(i)?Qg(i):(t=Av(h,l,a),i.stateNode=t,Zi(i))}return nt(i),null;case 5:if(fa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,xa(i))Qg(i);else{var _=xc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return nt(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,xa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hv(t.nodeValue,a)),t||Or(i,!0)}else t=xc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=xa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Kd(i.stateNode.containerInfo),nt(i),null;case 10:return $i(i.type),nt(i),null;case 19:if(W(pt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ac(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Hg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),ke&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>bc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ac(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return nt(i),null}else 2*en()-l.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),ke&&Yi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Tn(i),Yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(bt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Vb(t,i){switch(Mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(bt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(pt),null;case 4:return st(),null;case 10:return $i(i.type),null;case 22:case 23:return Tn(i),Yf(),t!==null&&W(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(bt),null;case 25:return null;default:return null}}function g_(t,i){switch(Mf(i),i.tag){case 3:$i(bt),st();break;case 26:case 27:case 5:fa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:W(pt);break;case 10:$i(i.type);break;case 22:case 23:Tn(i),Yf(),t!==null&&W(Bs);break;case 24:$i(bt)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Qe(i,i.return,T)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,B=T;try{B()}catch(G){Qe(h,C,G)}}}l=l.next}while(l!==d)}}catch(G){Qe(i,i.return,G)}}function y_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{oy(i,a)}catch(l){Qe(t,t.return,l)}}}function __(t,i,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Qe(t,i,h)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,i,h)}else a.current=null}function v_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function wd(t,i,a){try{var l=t.stateNode;tw(l,t.type,a,i),l[kt]=i}catch(h){Qe(t,t.return,h)}}function E_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Id(t,i,a),t=t.sibling;t!==null;)Id(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function T_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){Qe(t,t.return,d)}}var er=!1,It=!1,Cd=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function xb(t,i){if(t=t.containerInfo,$d=jc,t=xg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,B=0,G=0,J=t,j=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)j=J,J=H;for(;;){if(J===t)break t;if(j===a&&++B===h&&(T=_),j===d&&++G===l&&(C=_),(H=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},jc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Gs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Qe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function S_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&_l(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var h=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&y_(a),l&512&&vl(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{oy(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&T_(a);case 26:case 5:nr(t,a),i===null&&l&4&&v_(a),l&512&&vl(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&R_(t,a);break;case 13:nr(t,a),l&4&&I_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Hb.bind(null,a),uw(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||It,h=er;var d=It;er=l,(It=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=h,It=d}break;case 30:break;default:nr(t,a)}}function b_(t){var i=t.alternate;i!==null&&(t.alternate=null,b_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function tr(t,i,a){for(a=a.child;a!==null;)w_(t,i,a),a=a.sibling}function w_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:It||Oi(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Oi(a,i);var l=ot,h=on;Gr(a.type)&&(ot=a.stateNode,on=!1),tr(t,i,a),Cl(a.stateNode),ot=l,on=h;break;case 5:It||Oi(a,i);case 6:if(l=ot,h=on,ot=null,tr(t,i,a),ot=l,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:ot!==null&&(on?(t=ot,yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):yv(ot,a.stateNode));break;case 4:l=ot,h=on,ot=a.stateNode.containerInfo,on=!0,tr(t,i,a),ot=l,on=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),It||Ur(4,a,i),tr(t,i,a);break;case 1:It||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&__(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,tr(t,i,a),It=l;break;default:tr(t,i,a)}}function R_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){Qe(i,i.return,a)}}}function I_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){Qe(i,i.return,a)}}function Lb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new A_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new A_),i;default:throw Error(s(435,t.tag))}}function Tc(t,i){var a=Lb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Fb.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Gr(T.type)){ot=T.stateNode,on=!1;break e}break;case 5:ot=T.stateNode,on=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ot===null)throw Error(s(160));w_(d,_,h),ot=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)C_(i,t),i=i.sibling}var ti=null;function C_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Ur(3,t,t.return),_l(3,t),Ur(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(It||a===null||Oi(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(ln(i,t),un(t),l&512&&(It||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,At(d),l=d;break e;case"link":var _=Cv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Cv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,At(d),l=d}t.stateNode=l}else Dv(h,t.type,t.stateNode);else t.stateNode=Iv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dv(h,t.type,t.stateNode):Iv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(It||a===null||Oi(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(It||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(Pc=null,h=ti,ti=Lc(i.containerInfo),ln(i,t),ti=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(ce){Qe(t,t.return,ce)}Cd&&(Cd=!1,D_(t));break;case 4:l=ti,ti=Lc(t.stateNode.containerInfo),ln(i,t),un(t),ti=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=er,G=It;if(er=B||h,It=G||C,ln(i,t),It=G,er=B,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||er||It||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ce){Qe(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){Qe(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?_v(H,!0):_v(C.stateNode,!1)}catch(ce){Qe(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(E_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);Ec(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=Rd(t);Ec(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Rd(t);Id(t,B,C);break;default:throw Error(s(161))}}catch(G){Qe(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function D_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;D_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)S_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Ks(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&__(i,i.return,a),Ks(i);break;case 27:Cl(i.stateNode);case 26:case 5:Oi(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,a),_l(4,d);break;case 1:if(ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Qe(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ay(C[h],T)}catch(B){Qe(l,l.return,B)}}a&&_&64&&y_(d),vl(d,d.return);break;case 27:T_(d);case 26:case 5:ir(h,d,a),a&&l===null&&_&4&&v_(d),vl(d,d.return);break;case 12:ir(h,d,a);break;case 31:ir(h,d,a),a&&_&4&&R_(h,d);break;case 13:ir(h,d,a),a&&_&4&&I_(h,d);break;case 22:d.memoizedState===null&&ir(h,d,a),vl(d,d.return);break;case 30:break;default:ir(h,d,a)}i=i.sibling}}function Dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(t,i,a,l),i=i.sibling}function N_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&_l(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Qe(i,i.return,C)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):El(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Dd(_,i);break;case 24:ni(t,i,a,l),h&2048&&Nd(i.alternate,i);break;default:ni(t,i,a,l)}}function Fa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(d,_,T,C,h),_l(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Fa(d,_,T,C,h):El(d,_):(G._visibility|=2,Fa(d,_,T,C,h)),h&&B&2048&&Dd(_.alternate,_);break;case 24:Fa(d,_,T,C,h),h&&B&2048&&Nd(_.alternate,_);break;default:Fa(d,_,T,C,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Dd(l.alternate,l);break;case 24:El(a,l),h&2048&&Nd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ga(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)O_(t,i,a),t=t.sibling}function O_(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&Tl&&t.memoizedState!==null&&Tw(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ti;ti=Lc(t.stateNode.containerInfo),Ga(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Ga(t,i,a),Tl=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function M_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,x_(l,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ac(t)):Al(t);break;default:Al(t)}}function Ac(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,x_(l,t)}M_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}t=t.sibling}}function x_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(b_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var kb={getCacheForType:function(t){var i=Ht(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(bt).controller.signal}},Pb=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,De=null,Oe=0,Ye=0,An=null,zr=!1,Ka=!1,Od=!1,rr=0,ht=0,Br=0,Ys=0,Md=0,Sn=0,Ya=0,Sl=null,cn=null,Vd=!1,Sc=0,L_=0,bc=1/0,wc=null,jr=null,xt=0,qr=null,Qa=null,sr=0,xd=0,Ld=null,k_=null,bl=0,kd=null;function bn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?qd():Ru()}function P_(){if(Sn===0)if((Oe&536870912)===0||ke){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function hn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&($a(t,0),Hr(t,Oe,Sn,!1)),Ts(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Ys|=a),ht===4&&Hr(t,Oe,Sn,!1)),Mi(t))}function U_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),h=l?Bb(t,i):Ud(t,i,!0),d=l;do{if(h===0){Ka&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Ub(a)){h=Ud(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Sl;var C=T.current.memoizedState.isDehydrated;if(C&&($a(T,_).flags|=256),_=Ud(T,_,!1),_!==2){if(Od&&!C){T.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,Sn,!zr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-en(),10<h)){if(Hr(l,i,Sn,!zr),mi(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=pv(z_.bind(null,l,a,cn,wc,Vd,i,Sn,Ys,Ya,zr,d,"Throttled",-0,0),h);break e}z_(l,a,cn,wc,Vd,i,Sn,Ys,Ya,zr,d,null,-0,0)}}break}while(!0);Mi(t)}function z_(t,i,a,l,h,d,_,T,C,B,G,J,j,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},O_(i,d,J);var ce=(d&62914560)===d?Sc-en():(d&4194048)===d?L_-en():0;if(ce=Aw(J,ce),ce!==null){sr=d,t.cancelPendingCommit=ce(Y_.bind(null,t,i,d,a,l,h,_,T,C,G,J,null,j,H)),Hr(t,d,_,!B);return}}Y_(t,i,d,a,l,h,_,T,C)}function Ub(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~Md,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(t,a,i)}function Rc(){return(He&6)===0?(wl(0),!1):!0}function Pd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Qi=Us=null,Zf(t),za=null,ol=0,t=De;for(;t!==null;)g_(t.alternate,t),t=t.return;De=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,Pd(),Ze=t,De=a=Ki(t.current,null),Oe=i,Ye=0,An=null,zr=!1,Ka=Kn(t,i),Od=!1,Ya=Sn=Md=Ys=Br=ht=0,cn=Sl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Yu(),a}function B_(t,i){Se=null,K.H=pl,i===Ua||i===tc?(i=ny(),Ye=3):i===jf?(i=ny(),Ye=4):Ye=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,De===null&&(ht=1,pc(t,xn(i,t.current)))}function j_(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function q_(){var t=K.H;return K.H=pl,t===null?pl:t}function H_(){var t=K.A;return K.A=kb,t}function Ic(){ht=4,zr||(Oe&4194048)!==Oe&&En.current!==null||(Ka=!0),(Br&134217727)===0&&(Ys&134217727)===0||Ze===null||Hr(Ze,Oe,Sn,!1)}function Ud(t,i,a){var l=He;He|=2;var h=q_(),d=H_();(Ze!==t||Oe!==i)&&(wc=null,$a(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&De!==null){var T=De,C=An;switch(Ye){case 8:Pd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Ye;if(Ye=0,An=null,Xa(t,T,C,B),a&&Ka){_=0;break e}break;default:B=Ye,Ye=0,An=null,Xa(t,T,C,B)}}zb(),_=ht;break}catch(G){B_(t,G)}while(!0);return i&&t.shellSuspendCounter++,Qi=Us=null,He=l,K.H=h,K.A=d,De===null&&(Ze=null,Oe=0,Yu()),_}function zb(){for(;De!==null;)F_(De)}function Bb(t,i){var a=He;He|=2;var l=q_(),h=H_();Ze!==t||Oe!==i?(wc=null,bc=en()+500,$a(t,i)):Ka=Kn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=An;t:switch(Ye){case 1:Ye=0,An=null,Xa(t,i,d,1);break;case 2:case 9:if(ey(d)){Ye=0,An=null,G_(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),Mi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ey(d)?(Ye=0,An=null,G_(i)):(Ye=0,An=null,Xa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?Nv(_):T.stateNode.complete){Ye=0,An=null;var C=T.sibling;if(C!==null)De=C;else{var B=T.return;B!==null?(De=B,Cc(B)):De=null}break t}}Ye=0,An=null,Xa(t,i,d,5);break;case 6:Ye=0,An=null,Xa(t,i,d,6);break;case 8:Pd(),ht=6;break e;default:throw Error(s(462))}}jb();break}catch(G){B_(t,G)}while(!0);return Qi=Us=null,K.H=l,K.A=h,He=a,De!==null?0:(Ze=null,Oe=0,Yu(),ht)}function jb(){for(;De!==null&&!mf();)F_(De)}function F_(t){var i=m_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Cc(t):De=i}function G_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=l_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=l_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Zf(i);default:g_(a,i),i=De=Hg(i,rr),i=m_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?Cc(t):De=i}function Xa(t,i,a,l){Qi=Us=null,Zf(i),za=null,ol=0;var h=i.return;try{if(Db(t,h,i,a,Oe)){ht=1,pc(t,xn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,pc(t,xn(a,t.current)),De=null;return}i.flags&32768?(ke||l===1?t=!0:Ka||(Oe&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){K_(i,zr);return}t=i.return;var a=Mb(i.alternate,i,rr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function K_(t,i){do{var a=Vb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function Y_(t,i,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Dc();while(xt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,yf(t,a,d,_,T,C),t===Ze&&(De=Ze=null,Oe=0),Qa=i,qr=t,sr=a,xd=d,Ld=h,k_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gb(vr,function(){return W_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,_=He,He|=4;try{xb(t,i,a)}finally{He=_,se.p=h,K.T=l}}xt=1,Q_(),$_(),X_()}}function Q_(){if(xt===1){xt=0;var t=qr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{C_(i,t);var d=Xd,_=xg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Vg(T.ownerDocument.documentElement,T)){if(C!==null&&Tf(T)){var B=C.start,G=C.end;if(G===void 0&&(G=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(G,T.value.length);else{var J=T.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var H=j.getSelection(),ce=T.textContent.length,pe=Math.min(C.start,ce),We=C.end===void 0?pe:Math.min(C.end,ce);!H.extend&&pe>We&&(_=We,We=pe,pe=_);var x=Mg(T,pe),N=Mg(T,We);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var z=J.createRange();z.setStart(x.node,x.offset),H.removeAllRanges(),pe>We?(H.addRange(z),H.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),H.addRange(z))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Y=J[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}jc=!!$d,Xd=$d=null}finally{He=h,se.p=l,K.T=a}}t.current=i,xt=2}}function $_(){if(xt===2){xt=0;var t=qr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{S_(t,i.alternate,i)}finally{He=h,se.p=l,K.T=a}}xt=3}}function X_(){if(xt===4||xt===3){xt=0,vu();var t=qr,i=Qa,a=sr,l=k_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xt=5:(xt=0,Qa=qr=null,J_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),qi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,se.p=h}}(sr&3)!==0&&Dc(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?bl++:(bl=0,kd=t):bl=0,wl(0)}}function J_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function Dc(){return Q_(),$_(),X_(),W_()}function W_(){if(xt!==5)return!1;var t=qr,i=xd;xd=0;var a=qi(sr),l=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=Ld,Ld=null;var d=qr,_=sr;if(xt=0,Qa=qr=null,sr=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,V_(d.current),N_(d,d.current,_,a),He=T,wl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{se.p=h,K.T=l,J_(t,i)}}function Z_(t,i,a){i=xn(a,i),i=md(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Ts(t,2),Mi(t))}function Qe(t,i,a){if(t.tag===3)Z_(t,t,a);else for(;i!==null;){if(i.tag===3){Z_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=xn(a,t),a=e_(2),l=Lr(i,a,2),l!==null&&(t_(a,l,i,t),Ts(l,2),Mi(l));break}}i=i.return}}function zd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Pb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Od=!0,h.add(a),t=qb.bind(null,t,i,a),i.then(t,t))}function qb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>en()-Sc?(He&2)===0&&$a(t,0):Md|=a,Ya===Oe&&(Ya=0)),Mi(t)}function ev(t,i){i===0&&(i=wu()),t=Ls(t,i),t!==null&&(Ts(t,i),Mi(t))}function Hb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ev(t,a)}function Fb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ev(t,a)}function Gb(t,i){return Vt(t,i)}var Nc=null,Ja=null,Bd=!1,Oc=!1,jd=!1,Fr=0;function Mi(t){t!==Ja&&t.next===null&&(Ja===null?Nc=Ja=t:Ja=Ja.next=t),Oc=!0,Bd||(Bd=!0,Yb())}function wl(t,i){if(!jd&&Oc){jd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,rv(l,d))}else d=Oe,d=mi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,rv(l,d));l=l.next}while(a);jd=!1}}function Kb(){tv()}function tv(){Oc=Bd=!1;var t=0;Fr!==0&&iw()&&(t=Fr);for(var i=en(),a=null,l=Nc;l!==null;){var h=l.next,d=nv(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}xt!==0&&xt!==5||wl(t),Fr!==0&&(Fr=0)}function nv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=gf(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=Ze,a=Oe,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_r(l),qi(a)){case 2:case 8:a=Lo;break;case 32:a=vr;break;case 268435456:a=Eu;break;default:a=vr}return l=iv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_r(l),t.callbackPriority=2,t.callbackNode=null,2}function iv(t,i){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Oe;return l=mi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(U_(t,l,i),nv(t,en()),t.callbackNode!=null&&t.callbackNode===a?iv.bind(null,t):null)}function rv(t,i){if(Dc())return null;U_(t,i,!0)}function Yb(){sw(function(){(He&6)!==0?Vt(xo,Kb):tv()})}function qd(){if(Fr===0){var t=ka;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Fr=t}return Fr}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function av(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Qb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=sv((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?sv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new wi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var C=_?av(h,_):new FormData(h);ld(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?av(h,_):new FormData(h),ld(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Hd=0;Hd<wf.length;Hd++){var Fd=wf[Hd],$b=Fd.toLowerCase(),Xb=Fd[0].toUpperCase()+Fd.slice(1);ei($b,"on"+Xb)}ei(Pg,"onAnimationEnd"),ei(Ug,"onAnimationIteration"),ei(zg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(fb,"onTransitionRun"),ei(db,"onTransitionStart"),ei(mb,"onTransitionCancel"),ei(Bg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ov(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(G){Ku(G)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(G){Ku(G)}h.currentTarget=null,d=C}}}}function Ne(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||(lv(i,t,2,!1),a.add(l))}function Gd(t,i,a){var l=0;i&&(l|=4),lv(a,t,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Mc]){t[Mc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Jb.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Gd("selectionchange",!1,i))}}function lv(t,i,a,l){switch(Pv(i)){case 2:var h=ww;break;case 8:h=Rw;break;default:h=om}a=h.bind(null,i,a,t),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Yd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=_i(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}wr(function(){var B=d,G=Nn(a),J=[];e:{var j=jg.get(t);if(j!==void 0){var H=wi,ce=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":H=Hu;break;case"focusin":ce="focus",H=Os;break;case"focusout":ce="blur",H=Os;break;case"beforeblur":case"afterblur":H=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Pg:case Ug:case zg:H=ku;break;case Bg:H=S;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=Ae}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),x=pe?j!==null?j+"Capture":null:j;pe=[];for(var N=B,z;N!==null;){var Y=N;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||x===null||(Y=Xn(N,x),Y!=null&&pe.push(Il(N,Y,z))),We)break;N=N.return}0<pe.length&&(j=new H(j,ce,null,a,G),J.push({event:j,listeners:pe}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&a!==Yo&&(ce=a.relatedTarget||a.fromElement)&&(_i(ce)||ce[gi]))break e;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=B,ce=ce?_i(ce):null,ce!==null&&(We=u(ce),pe=ce.tag,ce!==We||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(H=null,ce=B),H!==ce)){if(pe=Jo,Y="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Gi,Y="onPointerLeave",x="onPointerEnter",N="pointer"),We=H==null?j:gn(H),z=ce==null?j:gn(ce),j=new pe(Y,N+"leave",H,a,G),j.target=We,j.relatedTarget=z,Y=null,_i(G)===B&&(pe=new pe(x,N+"enter",ce,a,G),pe.target=z,pe.relatedTarget=We,Y=pe),We=Y,H&&ce)t:{for(pe=Wb,x=H,N=ce,z=0,Y=x;Y;Y=pe(Y))z++;Y=0;for(var fe=N;fe;fe=pe(fe))Y++;for(;0<z-Y;)x=pe(x),z--;for(;0<Y-z;)N=pe(N),Y--;for(;z--;){if(x===N||N!==null&&x===N.alternate){pe=x;break t}x=pe(x),N=pe(N)}pe=null}else pe=null;H!==null&&uv(J,j,H,pe,!1),ce!==null&&We!==null&&uv(J,We,ce,pe,!0)}}e:{if(j=B?gn(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Be=Rg;else if(bg(j))if(Ig)Be=ub;else{Be=ob;var he=ab}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Ea(B.elementType)&&(Be=Rg):Be=lb;if(Be&&(Be=Be(t,B))){wg(J,Be,a,G);break e}he&&he(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Fo(j,"number",j.value)}switch(he=B?gn(B):window,t){case"focusin":(bg(he)||he.contentEditable==="true")&&(Ca=he,Af=B,nl=null);break;case"focusout":nl=Af=Ca=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Lg(J,a,G);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":Lg(J,a,G)}var we;if(qe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ia?Ms(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ci&&a.locale!=="ko"&&(Ia||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ia&&(we=$o()):(bi=G,Qo="value"in bi?bi.value:bi.textContent,Ia=!0)),he=Vc(B,Me),0<he.length&&(Me=new Ii(Me,t,null,a,G),J.push({event:Me,listeners:he}),we?Me.data=we:(we=Ra(a),we!==null&&(Me.data=we)))),(we=Mn?nb(t,a):ib(t,a))&&(Me=Vc(B,"onBeforeInput"),0<Me.length&&(he=new Ii("onBeforeInput","beforeinput",null,a,G),J.push({event:he,listeners:Me}),he.data=we)),Qb(J,t,B,a,G)}ov(J,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Xn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Wb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,h?(B=Xn(a,d),B!=null&&_.unshift(Il(a,B,C))):h||(B=Xn(a,d),B!=null&&_.push(Il(a,B,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Zb=/\r\n?/g,ew=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(Zb,`
`).replace(ew,"")}function hv(t,i){return i=cv(i),cv(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,_a(t,a,l))}}function Qd(t,i,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":B=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Je(t,i,l,G,a,null)}}Nu(t,d,T,C,B,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Ar(t,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,C,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ne(Rl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Ea(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Qd(t,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function tw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,B=null,G=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(H)||Je(t,i,H,null,l,J)}}for(var j in l){var H=l[j];if(J=a[j],l.hasOwnProperty(j)&&(H!=null||J!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==J&&Je(t,i,j,H,l,J)}}va(t,_,T,C,B,G,d,h);return;case"select":H=_=T=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Je(t,i,h,d,l,C)}i=T,a=_,l=H,j!=null?Tr(t,!!a,j,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ou(t,j,H);return;case"option":for(var ce in a)j=a[ce],a.hasOwnProperty(ce)&&j!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,j));for(C in l)j=l[C],H=a[C],l.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":Je(t,i,C,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)j=a[pe],a.hasOwnProperty(pe)&&j!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,j);for(B in l)if(j=l[B],H=a[B],l.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Je(t,i,B,j,l,H)}return;default:if(Ea(i)){for(var We in a)j=a[We],a.hasOwnProperty(We)&&j!==void 0&&!l.hasOwnProperty(We)&&Qd(t,i,We,void 0,l,j);for(G in l)j=l[G],H=a[G],!l.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||Qd(t,i,G,j,l,H);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Je(t,i,x,null,l,j);for(J in l)j=l[J],H=a[J],!l.hasOwnProperty(J)||j===H||j==null&&H==null||Je(t,i,J,j,l,H)}function fv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&fv(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>T)break;var G=C.transferSize,J=C.initiatorType;G&&fv(J)&&(C=C.responseEnd,_+=G*(C<T?1:(T-B)/(C-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Xd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function iw(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(aw)}:pv;function aw(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function yv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);to(i)}function _v(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ow(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function lw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function vv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function Ev(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Tv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Av(t,i,a){switch(i=xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var Bn=new Map,Sv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=se.d;se.d={f:cw,r:hw,D:fw,C:dw,L:mw,m:pw,X:yw,S:gw,M:_w};function cw(){var t=ar.f(),i=Rc();return t||i}function hw(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?By(i):ar.r(t)}var Wa=typeof document>"u"?null:document;function bv(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Sv.has(h)||(Sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function fw(t){ar.D(t),bv("dns-prefetch",t,null)}function dw(t,i){ar.C(t,i),bv("preconnect",t,i)}function mw(t,i,a){ar.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=eo(t)}Bn.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function pw(t,i){ar.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Bn.has(d)&&(t=A({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function gw(t,i,a){ar.S(t,i,a);var l=Wa;if(l&&t){var h=vi(l).hoistableStyles,d=Za(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Dl(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&im(t,a);var C=_=l.createElement("link");At(C),Gt(C,"link",t),C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function yw(t,i){ar.X(t,i);var a=Wa;if(a&&t){var l=vi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=A({src:t,async:!0},i),(i=Bn.get(h))&&rm(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _w(t,i){ar.M(t,i);var a=Wa;if(a&&t){var l=vi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&rm(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function wv(t,i,a,l){var h=(h=be.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=vi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=vi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||vw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=vi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+sn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Rv(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function vw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function eo(t){return'[src="'+sn(t)+'"]'}function Nl(t){return"script[async]"+t}function Iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",h),kc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=Rv(a),(h=Bn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Gt(d,"link",l),i.state.loading|=4,kc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Nl(d)))?(i.instance=h,At(h),h):(l=a,(h=Bn.get(d))&&(l=A({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,t));return i.instance}function kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function Cv(t,i,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Dv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Ew(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=Rv(l),(h=Bn.get(h))&&im(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function Aw(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*nw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(Sw,t),zc=null,Uc.call(t))}function Sw(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function bw(t,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ov(t,i,a,l,h,d,_,T,C,B,G,J){return t=new bw(t,i,a,_,C,B,G,J,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),t}function Mv(t){return t?(t=Oa,t):Oa}function Vv(t,i,a,l,h,d){h=Mv(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(t,l,i),a!==null&&(hn(a,t,i),ul(a,t,i))}function xv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){xv(t,i),(t=t.alternate)&&xv(t,i)}function Lv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&hn(i,t,67108864),am(t,67108864)}}function kv(t){if(t.tag===13||t.tag===31){var i=bn();i=Ss(i);var a=Ls(t,i);a!==null&&hn(a,t,i),am(t,i)}}var jc=!0;function ww(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,om(t,i,a,l)}finally{se.p=d,K.T=h}}function Rw(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,om(t,i,a,l)}finally{se.p=d,K.T=h}}function om(t,i,a,l){if(jc){var h=lm(l);if(h===null)Yd(t,i,l,qc,a),Uv(t,l);else if(Cw(h,t,i,a,l))l.stopPropagation();else if(Uv(t,l),i&4&&-1<Iw.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-dt(_);T.entanglements[1]|=C,_&=~C}Mi(d),(He&6)===0&&(bc=en()+500,wl(0))}}break;case 31:case 13:T=Ls(d,2),T!==null&&hn(T,d,2),Rc(),am(d,2)}if(d=lm(l),d===null&&Yd(t,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yd(t,i,l,null,a)}}function lm(t){return t=Nn(t),um(t)}var qc=null;function um(t){if(qc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case xo:return 2;case Lo:return 8;case vr:case pf:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var cm=!1,Kr=null,Yr=null,Qr=null,Ml=new Map,Vl=new Map,$r=[],Iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&Lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Cw(t,i,a,l,h){switch(i){case"focusin":return Kr=xl(Kr,t,i,a,l,h),!0;case"dragenter":return Yr=xl(Yr,t,i,a,l,h),!0;case"mouseover":return Qr=xl(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,xl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,xl(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function zv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){kv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){kv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=Dn(a),i!==null&&Lv(i),t.blockedOn=a,!1;i.shift()}return!0}function Bv(t,i,a){Hc(t)&&a.delete(i)}function Dw(){cm=!1,Kr!==null&&Hc(Kr)&&(Kr=null),Yr!==null&&Hc(Yr)&&(Yr=null),Qr!==null&&Hc(Qr)&&(Qr=null),Ml.forEach(Bv),Vl.forEach(Bv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Dw)))}var Gc=null;function jv(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function i(C){return Fc(C,t)}Kr!==null&&Fc(Kr,t),Yr!==null&&Fc(Yr,t),Qr!==null&&Fc(Qr,t),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)zv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||jv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(um(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),jv(a)}}}function qv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(t){this._internalRoot=t}Kc.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();Vv(a,l,t,i,null,null)},Kc.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Vv(t.current,2,null,t,null,null),Rc(),i[gi]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&zv(t)}};var Hv=e.version;if(Hv!=="19.2.4")throw Error(s(527,Hv,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Nw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Gn=Yc.inject(Nw),Bt=Yc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Xy,d=Jy,_=Wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ov(t,1,!1,null,null,a,l,null,h,d,_,qv),t[gi]=i.current,Kd(t),new hm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Xy,_=Jy,T=Wy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Ov(t,1,!0,i,a??null,l,h,C,d,_,T,qv),i.context=Mv(null),a=i.current,l=bn(),l=Ss(l),h=xr(l),h.callback=null,Lr(a,h,l),a=l,i.current.lanes=a,Ts(i,a),Mi(i),t[gi]=i.current,Kd(t),new Kc(i)},kl.version="19.2.4",kl}var Zv;function Bw(){if(Zv)return mm.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=zw(),mm.exports}var jw=Bw();var eE="popstate";function qw(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:y=""}=oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Pm("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");m=p===-1?y:y.slice(0,p)}return m+"#"+(typeof u=="string"?u:$l(u))}function s(o,u){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Fw(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hw(){return Math.random().toString(36).substring(2,10)}function tE(r,e){return{usr:r.state,key:r.key,idx:e}}function Pm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:n,key:e&&e.key||s||Hw()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function oa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Fw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let P=E(),ne=P==null?null:P-p;p=P,y&&y({action:m,location:$.location,delta:ne})}function b(P,ne){m="PUSH";let te=Pm($.location,P,ne);n&&n(te,P),p=E()+1;let re=tE(te,p),Ie=$.createHref(te);try{f.pushState(re,"",Ie)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Ie)}u&&y&&y({action:m,location:$.location,delta:1})}function k(P,ne){m="REPLACE";let te=Pm($.location,P,ne);n&&n(te,P),p=E();let re=tE(te,p),Ie=$.createHref(te);f.replaceState(re,"",Ie),u&&y&&y({action:m,location:$.location,delta:0})}function Q(P){return Gw(P)}let $={get action(){return m},get location(){return r(o,f)},listen(P){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(eE,A),y=P,()=>{o.removeEventListener(eE,A),y=null}},createHref(P){return e(o,P)},createURL:Q,encodeLocation(P){let ne=Q(P);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:k,go(P){return f.go(P)}};return $}function Gw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function KT(r,e,n="/"){return Kw(r,e,n,!1)}function Kw(r,e,n,s){let o=typeof e=="string"?oa(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=YT(r);Yw(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let p=r1(u);m=n1(f[y],p,s)}return m}function YT(r,e=[],n=[],s="",o=!1){let u=(f,m,y=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=cr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),YT(f.children,e,b,A,y)),!(f.path==null&&!f.index)&&e.push({path:A,score:e1(A,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of QT(f.path))u(f,m,!0,y)}),e}function QT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=QT(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function Yw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:t1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Qw=/^:[\w-]+$/,$w=3,Xw=2,Jw=1,Ww=10,Zw=-2,nE=r=>r==="*";function e1(r,e){let n=r.split("/"),s=n.length;return n.some(nE)&&(s+=Zw),e&&(s+=Xw),n.filter(o=>!nE(o)).reduce((o,u)=>o+(Qw.test(u)?$w:u===""?Jw:Ww),s)}function t1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function n1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=ph({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),b=y.route;if(!A&&p&&n&&!s[s.length-1].route.index&&(A=ph({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:cr([u,A.pathname]),pathnameBase:l1(cr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=cr([u,A.pathnameBase]))}return f}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=i1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:A},b)=>{if(E==="*"){let Q=m[b]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const k=m[b];return A&&!k?p[E]=void 0:p[E]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function i1(r,e=!1,n=!0){Fn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function r1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function a1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?oa(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=iE(n.substring(1),"/"):u=iE(n,e)):u=e,{pathname:u,search:u1(s),hash:c1(o)}}function iE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mp(r){let e=o1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function pp(r,e,n,s=!1){let o;typeof r=="string"?o=oa(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let y=a1(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),l1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,c1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,h1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function f1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function d1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function XT(r,e){let n=r;if(typeof n!="string"||!s1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if($T)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Fn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var m1=["GET",...JT];new Set(m1);var To=F.createContext(null);To.displayName="DataRouter";var Uh=F.createContext(null);Uh.displayName="DataRouterState";var p1=F.createContext(!1),WT=F.createContext({isTransitioning:!1});WT.displayName="ViewTransition";var g1=F.createContext(new Map);g1.displayName="Fetchers";var y1=F.createContext(null);y1.displayName="Await";var In=F.createContext(null);In.displayName="Navigation";var ou=F.createContext(null);ou.displayName="Location";var ji=F.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var gp=F.createContext(null);gp.displayName="RouteError";var ZT="REACT_ROUTER_ERROR",_1="REDIRECT",v1="ROUTE_ERROR_RESPONSE";function E1(r){if(r.startsWith(`${ZT}:${_1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function T1(r){if(r.startsWith(`${ZT}:${v1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new h1(e.status,e.statusText,e.data)}catch{}}function A1(r,{relative:e}={}){lt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(In),{hash:o,pathname:u,search:f}=lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return F.useContext(ou)!=null}function ds(){return lt(Ao(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ou).location}var e0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t0(r){F.useContext(In).static||F.useLayoutEffect(r)}function yp(){let{isDataRoute:r}=F.useContext(ji);return r?L1():S1()}function S1(){lt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(To),{basename:e,navigator:n}=F.useContext(In),{matches:s}=F.useContext(ji),{pathname:o}=ds(),u=JSON.stringify(mp(s)),f=F.useRef(!1);return t0(()=>{f.current=!0}),F.useCallback((y,p={})=>{if(Fn(f.current,e0),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=pp(y,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}F.createContext(null);function lu(r,{relative:e}={}){let{matches:n}=F.useContext(ji),{pathname:s}=ds(),o=JSON.stringify(mp(n));return F.useMemo(()=>pp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function b1(r,e){return n0(r,e)}function n0(r,e,n,s,o){lt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(In),{matches:f}=F.useContext(ji),m=f[f.length-1],y=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let te=A&&A.path||"";r0(p,!A||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let b=ds(),k;if(e){let te=typeof e=="string"?oa(e):e;lt(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),k=te}else k=b;let Q=k.pathname||"/",$=Q;if(E!=="/"){let te=E.replace(/^\//,"").split("/");$="/"+Q.replace(/^\//,"").split("/").slice(te.length).join("/")}let P=KT(r,{pathname:$});Fn(A||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Fn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=D1(P&&P.map(te=>Object.assign({},te,{params:Object.assign({},y,te.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ne?F.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},ne):ne}function w1(){let r=x1(),e=f1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var R1=F.createElement(w1,null),i0=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=T1(r.digest);n&&(r=n)}let e=r!==void 0?F.createElement(ji.Provider,{value:this.props.routeContext},F.createElement(gp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(I1,{error:r},e):e}};i0.contextType=p1;var vm=new WeakMap;function I1({children:r,error:e}){let{basename:n}=F.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=E1(e.digest);if(s){let o=vm.get(e);if(o)throw o;let u=XT(s.location,n);if($T&&!vm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw vm.set(e,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function C1({routeContext:r,match:e,children:n}){let s=F.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ji.Provider,{value:r},n)}function D1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(A=>A.route.id&&f?.[A.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,y=-1;if(n)for(let E=0;E<u.length;E++){let A=u[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=E),A.route.id){let{loaderData:b,errors:k}=n,Q=A.route.loader&&!b.hasOwnProperty(A.route.id)&&(!k||k[A.route.id]===void 0);if(A.route.lazy||Q){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=n&&s?(E,A)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:d1(n.matches),errorInfo:A})}:void 0;return u.reduceRight((E,A,b)=>{let k,Q=!1,$=null,P=null;n&&(k=f&&A.route.id?f[A.route.id]:void 0,$=A.route.errorElement||R1,m&&(y<0&&b===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,P=null):y===b&&(Q=!0,P=A.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,b+1)),te=()=>{let re;return k?re=$:Q?re=P:A.route.Component?re=F.createElement(A.route.Component,null):A.route.element?re=A.route.element:re=E,F.createElement(C1,{match:A,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(A.route.ErrorBoundary||A.route.errorElement||b===0)?F.createElement(i0,{location:n.location,revalidation:n.revalidation,component:$,error:k,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):te()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N1(r){let e=F.useContext(To);return lt(e,_p(r)),e}function O1(r){let e=F.useContext(Uh);return lt(e,_p(r)),e}function M1(r){let e=F.useContext(ji);return lt(e,_p(r)),e}function vp(r){let e=M1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function V1(){return vp("useRouteId")}function x1(){let r=F.useContext(gp),e=O1("useRouteError"),n=vp("useRouteError");return r!==void 0?r:e.errors?.[n]}function L1(){let{router:r}=N1("useNavigate"),e=vp("useNavigate"),n=F.useRef(!1);return t0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Fn(n.current,e0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var rE={};function r0(r,e,n){!e&&!rE[r]&&(rE[r]=!0,Fn(!1,n))}F.memo(k1);function k1({routes:r,future:e,state:n,onError:s}){return n0(r,void 0,n,s,e)}function Em({to:r,replace:e,state:n,relative:s}){lt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(In);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(ji),{pathname:f}=ds(),m=yp(),y=pp(r,mp(u),f,s==="path"),p=JSON.stringify(y);return F.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function th(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=oa(n));let{pathname:p="/",search:E="",hash:A="",state:b=null,key:k="default"}=n,Q=F.useMemo(()=>{let $=fr(p,m);return $==null?null:{location:{pathname:$,search:E,hash:A,state:b,key:k},navigationType:s}},[m,p,E,A,b,k,s]);return Fn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:F.createElement(In.Provider,{value:y},F.createElement(ou.Provider,{children:e,value:Q}))}function U1({children:r,location:e}){return b1(Um(r),e)}function Um(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Um(s.props.children,u));return}lt(s.type===th,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Um(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function zh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function z1(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function B1(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function j1(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function q1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function H1(r,e){return r.button===0&&(!e||e==="_self")&&!q1(r)}var Qc=null;function F1(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var G1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!G1.has(r)?(Fn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function K1(r,e){let n,s,o,u,f;if(B1(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||nh,o=Tm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(z1(r)||j1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?fr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=Tm(r.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!F1()){let{name:p,type:E,value:A}=r;if(E==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,A)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Y1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Q1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function X1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Q1(u,n);return f.links?f.links():[]}return[]}));return eR(s.flat(1).filter($1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sE(r,e,n,s,o,u){let f=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,m=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>f(y,p)||m(y,p)):u==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function J1(r,e,{includeHydrateFallback:n}={}){return W1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function W1(r){return[...new Set(r)]}function Z1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function eR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Z1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function s0(){let r=F.useContext(To);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tR(){let r=F.useContext(Uh);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tp=F.createContext(void 0);Tp.displayName="FrameworkContext";function a0(){let r=F.useContext(Tp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function nR(r,e){let n=F.useContext(Tp),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:A}=e,b=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ne=>{ne.forEach(te=>{f(te.isIntersecting)})},P=new IntersectionObserver($,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[r]),F.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let k=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Pl(m,k),onBlur:Pl(y,Q),onMouseEnter:Pl(p,k),onMouseLeave:Pl(E,Q),onTouchStart:Pl(A,k)}]:[!1,b,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function iR({page:r,...e}){let{router:n}=s0(),s=F.useMemo(()=>KT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(sR,{page:r,matches:s,...e}):null}function rR(r){let{manifest:e,routeModules:n}=a0(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return X1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function sR({page:r,matches:e,...n}){let s=ds(),{future:o,manifest:u,routeModules:f}=a0(),{basename:m}=s0(),{loaderData:y,matches:p}=tR(),E=F.useMemo(()=>sE(r,e,p,u,s,"data"),[r,e,p,u,s]),A=F.useMemo(()=>sE(r,e,p,u,s,"assets"),[r,e,p,u,s]),b=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,P=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!E.some(Ie=>Ie.route.id===te.route.id)&&te.route.id in y&&f[te.route.id]?.shouldRevalidate||re.hasClientLoader?P=!0:$.add(te.route.id))}),$.size===0)return[];let ne=Y1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return P&&$.size>0&&ne.searchParams.set("_routes",e.filter(te=>$.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,s,u,E,e,r,f]),k=F.useMemo(()=>J1(A,u),[A,u]),Q=rR(A);return F.createElement(F.Fragment,null,b.map($=>F.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),k.map($=>F.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Q.map(({key:$,link:P})=>F.createElement("link",{key:$,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function aR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oR&&(window.__reactRouterVersion="7.13.0")}catch{}function lR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=qw({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),y=F.useCallback(p=>{n===!1?m(p):F.startTransition(()=>m(p))},[n]);return F.useLayoutEffect(()=>u.listen(y),[u,y]),F.createElement(P1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l0=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:p,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b,...k},Q){let{basename:$,unstable_useTransitions:P}=F.useContext(In),ne=typeof p=="string"&&o0.test(p),te=XT(p,$);p=te.to;let re=A1(p,{relative:o}),[Ie,Ce,Re]=nR(s,k),D=fR(p,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:b,unstable_useTransitions:P});function w(V){e&&e(V),V.defaultPrevented||D(V)}let R=F.createElement("a",{...k,...Re,href:te.absoluteURL||re,onClick:te.isExternal||u?e:w,ref:aR(Q,Ce),target:y,"data-discover":!ne&&n==="render"?"true":void 0});return Ie&&!ne?F.createElement(F.Fragment,null,R,F.createElement(iR,{page:re})):R});l0.displayName="Link";var uR=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...p},E){let A=lu(f,{relative:p.relative}),b=ds(),k=F.useContext(Uh),{navigator:Q,basename:$}=F.useContext(In),P=k!=null&&yR(A)&&m===!0,ne=Q.encodeLocation?Q.encodeLocation(A).pathname:A.pathname,te=b.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&$&&(re=fr(re,$)||re);const Ie=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ce=te===ne||!o&&te.startsWith(ne)&&te.charAt(Ie)==="/",Re=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),D={isActive:Ce,isPending:Re,isTransitioning:P},w=Ce?e:void 0,R;typeof s=="function"?R=s(D):R=[s,Ce?"active":null,Re?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return F.createElement(l0,{...p,"aria-current":w,className:R,ref:E,style:V,to:f,viewTransition:m},typeof y=="function"?y(D):y)});uR.displayName="NavLink";var cR=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b,...k},Q)=>{let{unstable_useTransitions:$}=F.useContext(In),P=pR(),ne=gR(m,{relative:p}),te=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&o0.test(m),Ie=Ce=>{if(y&&y(Ce),Ce.defaultPrevented)return;Ce.preventDefault();let Re=Ce.nativeEvent.submitter,D=Re?.getAttribute("formmethod")||f,w=()=>P(Re||Ce.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b});$&&n!==!1?F.startTransition(()=>w()):w()};return F.createElement("form",{ref:Q,method:te,action:ne,onSubmit:s?y:Ie,...k,"data-discover":!re&&r==="render"?"true":void 0})});cR.displayName="Form";function hR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u0(r){let e=F.useContext(To);return lt(e,hR(r)),e}function fR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let p=yp(),E=ds(),A=lu(r,{relative:u});return F.useCallback(b=>{if(H1(b,e)){b.preventDefault();let k=n!==void 0?n:$l(E)===$l(A),Q=()=>p(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});y?F.startTransition(()=>Q()):Q()}},[E,p,A,n,s,e,r,o,u,f,m,y])}var dR=0,mR=()=>`__${String(++dR)}__`;function pR(){let{router:r}=u0("useSubmit"),{basename:e}=F.useContext(In),n=V1(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:y,encType:p,formData:E,body:A}=K1(u,e);if(f.navigate===!1){let b=f.fetcherKey||mR();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||y,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||y,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function gR(r,{relative:e}={}){let{basename:n}=F.useContext(In),s=F.useContext(ji);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(r||".",{relative:e})},f=ds();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),$l(u)}function yR(r,{relative:e}={}){let n=F.useContext(WT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=u0("useViewTransitionState"),o=lu(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}const _R=()=>{};var aE={};const c0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,k=p&63;y||(k=64,f||(b=64)),s.push(n[E],n[A],n[b],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new ER;const b=u<<2|m>>4;if(s.push(b),p!==64){const k=m<<4&240|p>>2;if(s.push(k),A!==64){const Q=p<<6&192|A;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(r){const e=c0(r);return h0.encodeByteArray(e,!0)},gh=function(r){return TR(r).replace(/\./g,"")},f0=function(r){try{return h0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SR=()=>AR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof aE>"u")return;const r=aE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&f0(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return _R()||SR()||bR()||wR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d0=r=>Bh()?.emulatorHosts?.[r],RR=r=>{const e=d0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},m0=()=>Bh()?.config,p0=r=>Bh()?.[`_${r}`];class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g0(r){return(await fetch(r,{credentials:"include"})).ok}function CR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const Hl={};function DR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function NR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let oE=!1;function y0(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Hl[r]===e||Hl[r]||oE)return;Hl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=DR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{oE=!0,f()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=NR(s),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),$=n("learnmore"),P=document.getElementById($)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),E(P,$);const Ie=p();y(te,ne),re.append(te,Q,P,Ie),document.body.appendChild(re)}u?(Q.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function MR(){const r=Bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kR(){return!MR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v0(){try{return typeof indexedDB=="object"}catch{return!1}}function E0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function PR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const UR="FirebaseError";class ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=UR,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?zR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,s)}}function zR(r,e){return r.replace(BR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BR=/\{\$([^}]+)}/g;function jR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function as(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(lE(u)&&lE(f)){if(!as(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function lE(r){return r!==null&&typeof r=="object"}function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qR(r,e){const n=new HR(r,e);return n.subscribe.bind(n)}class HR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}const GR=1e3,KR=2,YR=14400*1e3,QR=.5;function uE(r,e=GR,n=KR){const s=e*Math.pow(n,r),o=Math.round(QR*s*(Math.random()-.5)*2);return Math.min(YR,s+o)}function _t(r){return r&&r._delegate?r._delegate:r}class oi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qs="[DEFAULT]";class $R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XR(r){return r===Qs?void 0:r}function JR(r){return r.instantiationMode==="EAGER"}class WR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const ZR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},eI=Ve.INFO,tI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},nI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=tI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jh{constructor(e){this.name=e,this._logLevel=eI,this._logHandler=nI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const iI=(r,e)=>e.some(n=>r instanceof n);let cE,hE;function rI(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sI(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,zm=new WeakMap,A0=new WeakMap,Sm=new WeakMap,Ap=new WeakMap;function aI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&T0.set(n,r)}).catch(()=>{}),Ap.set(e,r),e}function oI(r){if(zm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});zm.set(r,e)}let Bm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lI(r){Bm=r(Bm)}function uI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return A0.set(s,e.sort?e.sort():[e]),ns(s)}:sI().includes(r)?function(...e){return r.apply(bm(this),e),ns(T0.get(this))}:function(...e){return ns(r.apply(bm(this),e))}}function cI(r){return typeof r=="function"?uI(r):(r instanceof IDBTransaction&&oI(r),iI(r,rI())?new Proxy(r,Bm):r)}function ns(r){if(r instanceof IDBRequest)return aI(r);if(Sm.has(r))return Sm.get(r);const e=cI(r);return e!==r&&(Sm.set(r,e),Ap.set(e,r)),e}const bm=r=>Ap.get(r);function S0(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",y=>{s(ns(f.result),y.oldVersion,y.newVersion,ns(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const hI=["get","getKey","getAll","getAllKeys","count"],fI=["put","add","delete","clear"],wm=new Map;function fE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=fI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hI.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return wm.set(e,u),u}lI(r=>({...r,get:(e,n,s)=>fE(e,n)||r.get(e,n,s),has:(e,n)=>!!fE(e,n)||r.has(e,n)}));class dI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mI(r){return r.getComponent()?.type==="VERSION"}const jm="@firebase/app",dE="0.14.7";const dr=new jh("@firebase/app"),pI="@firebase/app-compat",gI="@firebase/analytics-compat",yI="@firebase/analytics",_I="@firebase/app-check-compat",vI="@firebase/app-check",EI="@firebase/auth",TI="@firebase/auth-compat",AI="@firebase/database",SI="@firebase/data-connect",bI="@firebase/database-compat",wI="@firebase/functions",RI="@firebase/functions-compat",II="@firebase/installations",CI="@firebase/installations-compat",DI="@firebase/messaging",NI="@firebase/messaging-compat",OI="@firebase/performance",MI="@firebase/performance-compat",VI="@firebase/remote-config",xI="@firebase/remote-config-compat",LI="@firebase/storage",kI="@firebase/storage-compat",PI="@firebase/firestore",UI="@firebase/ai",zI="@firebase/firestore-compat",BI="firebase",jI="12.8.0";const qm="[DEFAULT]",qI={[jm]:"fire-core",[pI]:"fire-core-compat",[yI]:"fire-analytics",[gI]:"fire-analytics-compat",[vI]:"fire-app-check",[_I]:"fire-app-check-compat",[EI]:"fire-auth",[TI]:"fire-auth-compat",[AI]:"fire-rtdb",[SI]:"fire-data-connect",[bI]:"fire-rtdb-compat",[wI]:"fire-fn",[RI]:"fire-fn-compat",[II]:"fire-iid",[CI]:"fire-iid-compat",[DI]:"fire-fcm",[NI]:"fire-fcm-compat",[OI]:"fire-perf",[MI]:"fire-perf-compat",[VI]:"fire-rc",[xI]:"fire-rc-compat",[LI]:"fire-gcs",[kI]:"fire-gcs-compat",[PI]:"fire-fst",[zI]:"fire-fst-compat",[UI]:"fire-vertex","fire-js":"fire-js",[BI]:"fire-js-all"};const yh=new Map,HI=new Map,Hm=new Map;function mE(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ui(r){const e=r.name;if(Hm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const n of yh.values())mE(n,r);for(const n of HI.values())mE(n,r);return!0}function ua(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r==null?!1:r.settings!==void 0}const FI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new la("app","Firebase",FI);class GI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const bo=jI;function b0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=m0()),!n)throw is.create("no-options");const u=yh.get(o);if(u){if(as(n,u.options)&&as(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new WR(o);for(const y of Hm.values())f.addComponent(y);const m=new GI(n,s,f);return yh.set(o,m),m}function Sp(r=qm){const e=yh.get(r);if(!e&&r===qm&&m0())return b0();if(!e)throw is.create("no-app",{appName:r});return e}function qn(r,e,n){let s=qI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}Ui(new oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const KI="firebase-heartbeat-database",YI=1,Xl="firebase-heartbeat-store";let Rm=null;function w0(){return Rm||(Rm=S0(KI,YI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Rm}async function QI(r){try{const n=(await w0()).transaction(Xl),s=await n.objectStore(Xl).get(R0(r));return await n.done,s}catch(e){if(e instanceof ci)dr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function pE(r,e){try{const s=(await w0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,R0(r)),await s.done}catch(n){if(n instanceof ci)dr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const $I=1024,XI=30;class JI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>XI){const o=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:s}=WI(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function WI(r,e=$I){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),yE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v0()?E0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yE(r){return gh(JSON.stringify({version:2,heartbeats:r})).length}function eC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function tC(r){Ui(new oi("platform-logger",e=>new dI(e),"PRIVATE")),Ui(new oi("heartbeat",e=>new JI(e),"PRIVATE")),qn(jm,dE,r),qn(jm,dE,"esm2020"),qn("fire-js","")}tC("");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nC=I0,C0=new la("auth","Firebase",I0());const _h=new jh("@firebase/auth");function iC(r,...e){_h.logLevel<=Ve.WARN&&_h.warn(`Auth (${bo}): ${r}`,...e)}function rh(r,...e){_h.logLevel<=Ve.ERROR&&_h.error(`Auth (${bo}): ${r}`,...e)}function zi(r,...e){throw wp(r,...e)}function si(r,...e){return wp(r,...e)}function bp(r,e,n){const s={...nC(),[e]:n};return new la("auth","Firebase",s).create(e,{appName:r.name})}function Ws(r){return bp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&zi(r,"argument-error"),bp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return C0.create(r,...e)}function ye(r,e,...n){if(!r)throw wp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function mr(r,e){r||lr(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function sC(){return _E()==="http:"||_E()==="https:"}function _E(){return typeof self<"u"&&self.location?.protocol||null}function aC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||_0()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=OR()||xR()}get(){return aC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class D0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cC=new cu(3e4,6e4);function Ip(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wo(r,e,n,s,o={}){return N0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return VR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),D0.fetch()(await O0(r,r.config.apiHost,n,m),p)})}async function N0(r,e,n){r._canInitEmulator=!1;const s={...lC,...e};try{const o=new fC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw $c(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bp(r,E,p);zi(r,E)}}catch(o){if(o instanceof ci)throw o;zi(r,"network-request-failed",{message:String(o)})}}async function hC(r,e,n,s,o={}){const u=await wo(r,e,n,s,o);return"mfaPendingCredential"in u&&zi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function O0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Rp(r.config,o):`${r.config.apiScheme}://${o}`;return uC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class fC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),cC.get())})}}function $c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=si(r,e,s);return o.customData._tokenResponse=n,o}async function dC(r,e){return wo(r,"POST","/v1/accounts:delete",e)}async function vh(r,e){return wo(r,"POST","/v1/accounts:lookup",e)}function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mC(r,e=!1){const n=_t(r),s=await n.getIdToken(e),o=Cp(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Fl(Im(o.auth_time)),issuedAtTime:Fl(Im(o.iat)),expirationTime:Fl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function Cp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function vE(r){const e=Cp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ci&&pC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function pC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class gC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(r){const e=r.auth,n=await r.getIdToken(),s=await Jl(r,vh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?M0(o.providerUserInfo):[],f=_C(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,p=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function yC(r){const e=_t(r);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _C(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function M0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vC(r,e){const n=await N0(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await O0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EC(r,e){return wo(r,"POST","/v2/accounts:revokeToken",Ip(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=vE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Jr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mC(this,e)}reload(){return yC(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await Jl(this,dC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:b,isAnonymous:k,providerData:Q,stsTokenManager:$}=n;ye(A&&$,e,"internal-error");const P=ao.fromJSON(this.name,$);ye(typeof A=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),ye(typeof b=="boolean",e,"internal-error"),ye(typeof k=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(y,e.name),Jr(p,e.name),Jr(E,e.name);const ne=new ri({uid:A,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:p,lastLoginAt:E});return Q&&Array.isArray(Q)&&(ne.providerData=Q.map(te=>({...te}))),y&&(ne._redirectEventId=y),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?M0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const y=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const EE=new Map;function ur(r){mr(r instanceof Function,"Expected a class definition");let e=EE.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,EE.set(r,e),e)}class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V0.type="NONE";const TE=V0;function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(ur(TE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ur(TE);const f=sh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let A;if(typeof E=="string"){const b=await vh(e,{idToken:E}).catch(()=>{});if(!b)break;A=await ri._fromGetAccountInfoResponse(e,b,E)}else A=ri._fromJSON(e,E);p!==u&&(m=A),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new oo(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new oo(u,e,s))}}function AE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z0(e))return"Blackberry";if(B0(e))return"Webos";if(L0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function x0(r=Zt()){return/firefox\//i.test(r)}function L0(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(r=Zt()){return/crios\//i.test(r)}function P0(r=Zt()){return/iemobile/i.test(r)}function U0(r=Zt()){return/android/i.test(r)}function z0(r=Zt()){return/blackberry/i.test(r)}function B0(r=Zt()){return/webos/i.test(r)}function Dp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TC(r=Zt()){return Dp(r)&&!!window.navigator?.standalone}function AC(){return LR()&&document.documentMode===10}function j0(r=Zt()){return Dp(r)||U0(r)||B0(r)||z0(r)||/windows phone/i.test(r)||P0(r)}function q0(r,e=[]){let n;switch(r){case"Browser":n=AE(Zt());break;case"Worker":n=`${AE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class SC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function bC(r,e={}){return wo(r,"GET","/v2/passwordPolicy",Ip(r,e))}const wC=6;class RC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class IC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new SC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Ws(this));const n=e?_t(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bC(this),n=new RC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qh(r){return _t(r)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CC(r){Np=r}function DC(r){return Np.loadJS(r)}function NC(){return Np.gapiScript}function OC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function MC(r,e){const n=ua(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(as(u,e??{}))return o;zi(o,"already-initialized")}return n.initialize({options:e})}function VC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function xC(r,e,n){const s=qh(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=H0(e),{host:f,port:m}=LC(e),y=m===null?"":`:${m}`,p={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(as(p,s.config.emulator)&&as(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,So(f)?(g0(`${u}//${f}${y}`),y0("Auth",!0)):kC()}function H0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LC(r){const e=H0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:bE(f)}}}function bE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function kC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function lo(r,e){return hC(r,"POST","/v1/accounts:signInWithIdp",Ip(r,e))}const PC="http://localhost";class ta extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:PC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}class Op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends hu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class or extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class Zr extends hu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class es extends hu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),f=wE(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=wE(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function wE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Th extends ci{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Th(e,n,s,o)}}function G0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(r,u,e,s):u})}async function UC(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}async function zC(r,e,n=!1){const{auth:s}=r;if(ii(s.app))return Promise.reject(Ws(s));const o="reauthenticate";try{const u=await Jl(r,G0(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Cp(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zi(s,"user-mismatch"),u}}async function BC(r,e,n=!1){if(ii(r.app))return Promise.reject(Ws(r));const s="signIn",o=await G0(r,s,e),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function jC(r,e,n,s){return _t(r).onIdTokenChanged(e,n,s)}function qC(r,e,n){return _t(r).beforeAuthStateChanged(e,n)}function HC(r,e,n,s){return _t(r).onAuthStateChanged(e,n,s)}function FC(r){return _t(r).signOut()}const Ah="__sak";class K0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=1e3,KC=10;class Y0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);AC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y0.type="LOCAL";const YC=Y0;class Q0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q0.type="SESSION";const $0=Q0;function QC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),y=await QC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function Mp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class $C{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const p=Mp("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function xi(){return window}function XC(r){xi().location.href=r}function X0(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function JC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WC(){return navigator?.serviceWorker?.controller||null}function ZC(){return X0()?self:null}const J0="firebaseLocalStorageDb",e2=1,Sh="firebaseLocalStorage",W0="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,e){return r.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function t2(){const r=indexedDB.deleteDatabase(J0);return new fu(r).toPromise()}function Km(){const r=indexedDB.open(J0,e2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:W0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await t2(),e(await Km()))})})}async function RE(r,e,n){const s=Fh(r,!0).put({[W0]:e,value:n});return new fu(s).toPromise()}async function n2(r,e){const n=Fh(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function IE(r,e){const n=Fh(r,!0).delete(e);return new fu(n).toPromise()}const i2=800,r2=3;class Z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>r2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JC(),!this.activeServiceWorker)return;this.sender=new $C(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await RE(e,Ah,"1"),await IE(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>RE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>n2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z0.type="LOCAL";const s2=Z0;new cu(3e4,6e4);function eA(r,e){return e?ur(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vp extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a2(r){return BC(r.auth,new Vp(r),r.bypassAuthState)}function o2(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),zC(n,new Vp(r),r.bypassAuthState)}async function l2(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),UC(n,new Vp(r),r.bypassAuthState)}class tA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:zi(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const u2=new cu(2e3,1e4);async function c2(r,e,n){if(ii(r.app))return Promise.reject(si(r,"operation-not-supported-in-this-environment"));const s=qh(r);rC(r,e,Op);const o=eA(s,n);return new $s(s,"signInViaPopup",e,o).executeNotNull()}class $s extends tA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}$s.currentPopupAction=null;const h2="pendingRedirect",ah=new Map;class f2 extends tA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await d2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(r,e){const n=g2(e),s=p2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function m2(r,e){ah.set(r._key(),e)}function p2(r){return ur(r._redirectPersistence)}function g2(r){return sh(h2,r.config.apiKey,r.name)}async function y2(r,e,n=!1){if(ii(r.app))return Promise.reject(Ws(r));const s=qh(r),o=eA(s,e),f=await new f2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const _2=600*1e3;class v2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function E2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nA(r);default:return!1}}async function T2(r,e={}){return wo(r,"GET","/v1/projects",e)}const A2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S2=/^https?/;async function b2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await T2(r);for(const n of e)try{if(w2(n))return}catch{}zi(r,"unauthorized-domain")}function w2(r){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!S2.test(n))return!1;if(A2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const R2=new cu(3e4,6e4);function DE(){const r=xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function I2(r){return new Promise((e,n)=>{function s(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(si(r,"network-request-failed"))},timeout:R2.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)s();else{const o=OC("iframefcb");return xi()[o]=()=>{gapi.load?s():n(si(r,"network-request-failed"))},DC(`${NC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}let oh=null;function C2(r){return oh=oh||I2(r),oh}const D2=new cu(5e3,15e3),N2="__/auth/iframe",O2="emulator/auth/iframe",M2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x2(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Rp(e,O2):`https://${r.config.authDomain}/${N2}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=V2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function L2(r){const e=await C2(r),n=xi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:x2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=si(r,"network-request-failed"),m=xi().setTimeout(()=>{u(f)},D2.get());function y(){xi().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}const k2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P2=500,U2=600,z2="_blank",B2="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j2(r,e,n,s=P2,o=U2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...k2,width:s.toString(),height:o.toString(),top:u,left:f},p=Zt().toLowerCase();n&&(m=k0(p)?z2:n),x0(p)&&(e=e||B2,y.scrollbars="yes");const E=Object.entries(y).reduce((b,[k,Q])=>`${b}${k}=${Q},`,"");if(TC(p)&&m!=="_self")return q2(e||"",m),new NE(null);const A=window.open(e||"",m,E);ye(A,r,"popup-blocked");try{A.focus()}catch{}return new NE(A)}function q2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const H2="__/auth/handler",F2="emulator/auth/handler",G2=encodeURIComponent("fac");async function OE(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof Op){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",jR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof hu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),p=y?`#${G2}=${encodeURIComponent(y)}`:"";return`${K2(r)}?${uu(m).slice(1)}${p}`}function K2({config:r}){return r.emulator?Rp(r,F2):`https://${r.authDomain}/${H2}`}const Cm="webStorageSupport";class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=y2,this._overrideRedirectResult=m2}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await OE(e,n,s,Fm(),o);return j2(e,u,Mp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await OE(e,n,s,Fm(),o);return XC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await L2(e),s=new v2(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},o=>{const u=o?.[0]?.[Cm];u!==void 0&&n(!!u),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j0()||L0()||Dp()}}const Q2=Y2;var ME="@firebase/auth",VE="1.12.0";class $2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function X2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J2(r){Ui(new oi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},p=new IC(s,o,u,y);return VC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ui(new oi("auth-internal",e=>{const n=qh(e.getProvider("auth").getImmediate());return(s=>new $2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(ME,VE,X2(r)),qn(ME,VE,"esm2020")}const W2=300,Z2=p0("authIdTokenMaxAge")||W2;let xE=null;const eD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Z2)return;const o=n?.token;xE!==o&&(xE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tD(r=Sp()){const e=ua(r,"auth");if(e.isInitialized())return e.getImmediate();const n=MC(r,{popupRedirectResolver:Q2,persistence:[s2,YC,$0]}),s=p0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=eD(u.toString());qC(n,f,()=>f(n.currentUser)),jC(n,m=>f(m))}}const o=d0("auth");return o&&xC(n,`http://${o}`),n}function nD(){return document.getElementsByTagName("head")?.[0]??document}CC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J2("Browser");var iD="firebase",rD="12.8.0";qn(iD,rD,"app");const iA="@firebase/installations",xp="0.6.19";const rA=1e4,sA=`w:${xp}`,aA="FIS_v2",sD="https://firebaseinstallations.googleapis.com/v1",aD=3600*1e3,oD="installations",lD="Installations";const uD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new la(oD,lD,uD);function oA(r){return r instanceof ci&&r.code.includes("request-failed")}function lA({projectId:r}){return`${sD}/projects/${r}/installations`}function uA(r){return{token:r.token,requestStatus:2,expiresIn:hD(r.expiresIn),creationTime:Date.now()}}async function cA(r,e){const s=(await e.json()).error;return na.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function hA({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function cD(r,{refreshToken:e}){const n=hA(r);return n.append("Authorization",fD(e)),n}async function fA(r){const e=await r();return e.status>=500&&e.status<600?r():e}function hD(r){return Number(r.replace("s","000"))}function fD(r){return`${aA} ${r}`}async function dD({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=lA(r),o=hA(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:n,authVersion:aA,appId:r.appId,sdkVersion:sA},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await fA(()=>fetch(s,m));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:uA(p.authToken)}}else throw await cA("Create Installation",y)}function dA(r){return new Promise(e=>{setTimeout(e,r)})}function mD(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const pD=/^[cdef][\w-]{21}$/,Ym="";function gD(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=yD(r);return pD.test(n)?n:Ym}catch{return Ym}}function yD(r){return mD(r).substr(0,22)}function Gh(r){return`${r.appName}!${r.appId}`}const mA=new Map;function pA(r,e){const n=Gh(r);gA(n,e),_D(n,e)}function gA(r,e){const n=mA.get(r);if(n)for(const s of n)s(e)}function _D(r,e){const n=vD();n&&n.postMessage({key:r,fid:e}),ED()}let Xs=null;function vD(){return!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=r=>{gA(r.data.key,r.data.fid)}),Xs}function ED(){mA.size===0&&Xs&&(Xs.close(),Xs=null)}const TD="firebase-installations-database",AD=1,ia="firebase-installations-store";let Dm=null;function Lp(){return Dm||(Dm=S0(TD,AD,{upgrade:(r,e)=>{e===0&&r.createObjectStore(ia)}})),Dm}async function bh(r,e){const n=Gh(r),o=(await Lp()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&pA(r,e.fid),e}async function yA(r){const e=Gh(r),s=(await Lp()).transaction(ia,"readwrite");await s.objectStore(ia).delete(e),await s.done}async function Kh(r,e){const n=Gh(r),o=(await Lp()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&pA(r,m.fid),m}async function kp(r){let e;const n=await Kh(r.appConfig,s=>{const o=SD(s),u=bD(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Ym?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function SD(r){const e=r||{fid:gD(),registrationStatus:0};return _A(e)}function bD(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=wD(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RD(r)}:{installationEntry:e}}async function wD(r,e){try{const n=await dD(r,e);return bh(r.appConfig,n)}catch(n){throw oA(n)&&n.customData.serverCode===409?await yA(r.appConfig):await bh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function RD(r){let e=await LE(r.appConfig);for(;e.registrationStatus===1;)await dA(100),e=await LE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await kp(r);return s||n}return e}function LE(r){return Kh(r,e=>{if(!e)throw na.create("installation-not-found");return _A(e)})}function _A(r){return ID(r)?{fid:r.fid,registrationStatus:0}:r}function ID(r){return r.registrationStatus===1&&r.registrationTime+rA<Date.now()}async function CD({appConfig:r,heartbeatServiceProvider:e},n){const s=DD(r,n),o=cD(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:sA,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await fA(()=>fetch(s,m));if(y.ok){const p=await y.json();return uA(p)}else throw await cA("Generate Auth Token",y)}function DD(r,{fid:e}){return`${lA(r)}/${e}/authTokens:generate`}async function Pp(r,e=!1){let n;const s=await Kh(r.appConfig,u=>{if(!vA(u))throw na.create("not-registered");const f=u.authToken;if(!e&&MD(f))return u;if(f.requestStatus===1)return n=ND(r,e),u;{if(!navigator.onLine)throw na.create("app-offline");const m=xD(u);return n=OD(r,m),m}});return n?await n:s.authToken}async function ND(r,e){let n=await kE(r.appConfig);for(;n.authToken.requestStatus===1;)await dA(100),n=await kE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Pp(r,e):s}function kE(r){return Kh(r,e=>{if(!vA(e))throw na.create("not-registered");const n=e.authToken;return LD(n)?{...e,authToken:{requestStatus:0}}:e})}async function OD(r,e){try{const n=await CD(r,e),s={...e,authToken:n};return await bh(r.appConfig,s),n}catch(n){if(oA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yA(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await bh(r.appConfig,s)}throw n}}function vA(r){return r!==void 0&&r.registrationStatus===2}function MD(r){return r.requestStatus===2&&!VD(r)}function VD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+aD}function xD(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function LD(r){return r.requestStatus===1&&r.requestTime+rA<Date.now()}async function kD(r){const e=r,{installationEntry:n,registrationPromise:s}=await kp(e);return s?s.catch(console.error):Pp(e).catch(console.error),n.fid}async function PD(r,e=!1){const n=r;return await UD(n),(await Pp(n,e)).token}async function UD(r){const{registrationPromise:e}=await kp(r);e&&await e}function zD(r){if(!r||!r.options)throw Nm("App Configuration");if(!r.name)throw Nm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Nm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Nm(r){return na.create("missing-app-config-values",{valueName:r})}const EA="installations",BD="installations-internal",jD=r=>{const e=r.getProvider("app").getImmediate(),n=zD(e),s=ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qD=r=>{const e=r.getProvider("app").getImmediate(),n=ua(e,EA).getImmediate();return{getId:()=>kD(n),getToken:o=>PD(n,o)}};function HD(){Ui(new oi(EA,jD,"PUBLIC")),Ui(new oi(BD,qD,"PRIVATE"))}HD();qn(iA,xp);qn(iA,xp,"esm2020");const wh="analytics",FD="firebase_id",GD="origin",KD=60*1e3,YD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Up="https://www.googletagmanager.com/gtag/js";const rn=new jh("@firebase/analytics");const QD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new la("analytics","Analytics",QD);function $D(r){if(!r.startsWith(Up)){const e=Rn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(e.message),""}return r}function TA(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function XD(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function JD(r,e){const n=XD("firebase-js-sdk-policy",{createScriptURL:$D}),s=document.createElement("script"),o=`${Up}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function WD(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function ZD(r,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const y=(await TA(n)).find(p=>p.measurementId===o);y&&await e[y.appId]}}catch(m){rn.error(m)}r("config",o,u)}async function eN(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await TA(n);for(const y of f){const p=m.find(A=>A.measurementId===y),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){rn.error(u)}}function tN(r,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,y]=f;await eN(r,e,n,m,y)}else if(u==="config"){const[m,y]=f;await ZD(r,e,n,s,m,y)}else if(u==="consent"){const[m,y]=f;r("consent",m,y)}else if(u==="get"){const[m,y,p]=f;r("get",m,y,p)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){rn.error(m)}}return o}function nN(r,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=tN(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function iN(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Up)&&n.src.includes(r))return n;return null}const rN=30,sN=1e3;class aN{constructor(e={},n=sN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AA=new aN;function oN(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function lN(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:oN(n)},o=YD.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function uN(r,e=AA,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new fN;return setTimeout(async()=>{m.abort()},KD),SA({appId:s,apiKey:o,measurementId:u},f,m,e)}async function SA(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=AA){const{appId:u,measurementId:f}=r;try{await cN(s,e)}catch(m){if(f)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await lN(r);return o.deleteThrottleMetadata(u),m}catch(m){const y=m;if(!hN(y)){if(o.deleteThrottleMetadata(u),f)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:f};throw m}const p=Number(y?.customData?.httpStatus)===503?uE(n,o.intervalMillis,rN):uE(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,E),rn.debug(`Calling attemptFetch again in ${p} millis`),SA(r,E,s,o)}}function cN(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hN(r){if(!(r instanceof ci)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class fN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dN(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,f={...s,send_to:u};r("event",n,f)}}async function mN(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function pN(){if(v0())try{await E0()}catch(r){return rn.warn(Rn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return rn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gN(r,e,n,s,o,u,f){const m=uN(r);m.then(b=>{n[b.measurementId]=b.appId,r.options.measurementId&&b.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>rn.error(b)),e.push(m);const y=pN().then(b=>{if(b)return s.getId()}),[p,E]=await Promise.all([m,y]);iN(u)||JD(u,p.measurementId),o("js",new Date);const A=f?.config??{};return A[GD]="firebase",A.update=!0,E!=null&&(A[FD]=E),o("config",p.measurementId,A),p.measurementId}class yN{constructor(e){this.app=e}_delete(){return delete uo[this.app.options.appId],Promise.resolve()}}let uo={},PE=[];const UE={};let Om="dataLayer",_N="gtag",zE,zp,BE=!1;function vN(){const r=[];if(_0()&&r.push("This is a browser extension environment."),PR()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function EN(r,e,n){vN();const s=r.options.appId;if(!s)throw Rn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(uo[s]!=null)throw Rn.create("already-exists",{id:s});if(!BE){WD(Om);const{wrappedGtag:u,gtagCore:f}=nN(uo,PE,UE,Om,_N);zp=u,zE=f,BE=!0}return uo[s]=gN(r,PE,UE,e,zE,Om,n),new yN(r)}function TN(r=Sp()){r=_t(r);const e=ua(r,wh);return e.isInitialized()?e.getImmediate():AN(r)}function AN(r,e={}){const n=ua(r,wh);if(n.isInitialized()){const o=n.getImmediate();if(as(e,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:e})}function SN(r,e,n){r=_t(r),mN(zp,uo[r.app.options.appId],e,n).catch(s=>rn.error(s))}function bN(r,e,n,s){r=_t(r),dN(zp,uo[r.app.options.appId],e,n,s).catch(o=>rn.error(o))}const jE="@firebase/analytics",qE="0.10.19";function wN(){Ui(new oi(wh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return EN(s,o,n)},"PUBLIC")),Ui(new oi("analytics-internal",r,"PRIVATE")),qn(jE,qE),qn(jE,qE,"esm2020");function r(e){try{const n=e.getProvider(wh).getImmediate();return{logEvent:(s,o,u)=>bN(n,s,o,u),setUserProperties:(s,o)=>SN(n,s,o)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}wN();var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,bA;(function(){var r;function e(D,w){function R(){}R.prototype=w.prototype,D.F=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(V,O,L){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return w.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],O=D.g[2];let L=D.g[3],I;I=w+(L^R&(O^L))+V[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^L&(R^O))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^L)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~L))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const R=w-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(V[O++]=D.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<w;)if(V[O++]=D[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)D[w++]=this.g[R]>>>V&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;const R=[];let V=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;V&&L==w||(R[O]=L,V=!1)}this.g=R}var m={};function y(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return P(p(-D));const w=[];let R=1;for(let V=0;D>=R;V++)w[V]=D/R|0,R*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return P(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let V=A;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+O),w);O<8?(O=p(Math.pow(w,O)),V=V.j(O).add(p(I))):(V=V.j(R),V=V.add(p(I)))}return V}var A=y(0),b=y(1),k=y(16777216);r=f.prototype,r.m=function(){if($(this))return-P(this).m();let D=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Q(this))return"0";if($(this))return"-"+P(this).toString(D);const w=p(Math.pow(D,6));var R=this;let V="";for(;;){const O=Ie(R,w).g;R=ne(R,O.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,Q(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Q(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=ne(this,D),$(D)?-1:Q(D)?0:1};function P(D){const w=D.g.length,R=[];for(let V=0;V<w;V++)R[V]=~D.g[V];return new f(R,~D.h).add(b)}r.abs=function(){return $(this)?P(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),R=[];let V=0;for(let O=0;O<=w;O++){let L=V+(this.i(O)&65535)+(D.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=I>>>16,L&=65535,I&=65535,R[O]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(D,w){return D.add(P(w))}r.j=function(D){if(Q(this)||Q(D))return A;if($(this))return $(D)?P(this).j(P(D)):P(P(this).j(D));if($(D))return P(this.j(P(D)));if(this.l(k)<0&&D.l(k)<0)return p(this.m()*D.m());const w=this.g.length+D.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const L=this.i(V)>>>16,I=this.i(V)&65535,rt=D.i(O)>>>16,Ot=D.i(O)&65535;R[2*V+2*O]+=I*Ot,te(R,2*V+2*O),R[2*V+2*O+1]+=L*Ot,te(R,2*V+2*O+1),R[2*V+2*O+1]+=I*rt,te(R,2*V+2*O+1),R[2*V+2*O+2]+=L*rt,te(R,2*V+2*O+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new f(R,0)};function te(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function re(D,w){this.g=D,this.h=w}function Ie(D,w){if(Q(w))throw Error("division by zero");if(Q(D))return new re(A,A);if($(D))return w=Ie(P(D),w),new re(P(w.g),P(w.h));if($(w))return w=Ie(D,P(w)),new re(P(w.g),w.h);if(D.g.length>30){if($(D)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;V.l(D)<=0;)R=Ce(R),V=Ce(V);var O=Re(R,1),L=Re(V,1);for(V=Re(V,2),R=Re(R,2);!Q(V);){var I=L.add(V);I.l(D)<=0&&(O=O.add(R),L=I),V=Re(V,1),R=Re(R,1)}return w=ne(D,O.j(w)),new re(O,w)}for(O=A;D.l(w)>=0;){for(R=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=p(R),I=L.j(w);$(I)||I.l(D)>0;)R-=V,L=p(R),I=L.j(w);Q(L)&&(L=b),O=O.add(L),D=ne(D,I)}return new re(O,D)}r.B=function(D){return Ie(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&D.i(V);return new f(R,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|D.i(V);return new f(R,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^D.i(V);return new f(R,this.h^D.h)};function Ce(D){const w=D.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(R,D.h)}function Re(D,w){const R=w>>5;w%=32;const V=D.g.length-R,O=[];for(let L=0;L<V;L++)O[L]=w>0?D.i(L+R)>>>w|D.i(L+R+1)<<32-w:D.i(L+R);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,bA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,rs=f}).apply(typeof HE<"u"?HE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wA,zl,RA,lh,Qm,IA,CA,DA;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,v){return c.call.apply(c.bind,arguments)}function p(c,g,v){return p=y,p.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return g.prototype[U].apply(S,ie)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function Q(c,g){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let ie=0;ie<q;ie++)c[v+ie]=U[ie]}else c.push(U)}}class ${constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=D;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class te{constructor(){this.h=this.g=null}add(g,v){const S=re.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new $(()=>new Ie,c=>c.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Re=!1,D=new te,w=()=>{const c=Promise.resolve(void 0);Ce=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){P(v)}var g=re;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(rt,O),rt.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,g,v,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function Ge(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<W.length;q++)v=W[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ie=be(c,g,S,U);return ie>-1?(g=c[ie],v||(g.fa=!1)):(g=new se(g,this.src,q,!!S,U),g.fa=v,c.push(g)),g};function _e(c,g){const v=g.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,g,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(me(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,g,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==S)return U}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Mt={};function st(c,g,v,S,U){if(Array.isArray(g)){for(let q=0;q<g.length;q++)st(c,g[q],v,S,U);return null}return v=Vo(v),c&&c[Ot]?c.J(g,v,m(S)?!!S.capture:!1,U):ys(c,g,v,!1,S,U)}function ys(c,g,v,S,U,q){if(!g)throw Error("Invalid event type");const ie=m(U)?!!U.capture:!!U;let Ae=_s(c);if(Ae||(c[Pe]=Ae=new ue(c)),v=Ae.add(g,v,S,ie,q),v.proxy)return v;if(S=fa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(hi(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fa(){function c(v){return g.call(c.src,c.listener,v)}const g=Oo;return c}function da(c,g,v,S,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)da(c,g[q],v,S,U);else S=m(S)?!!S.capture:!!S,v=Vo(v),c&&c[Ot]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],v=be(g,v,S,U),v>-1&&(me(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=_s(c))&&(g=c.g[g.toString()],c=-1,g&&(c=be(g,v,S,U)),(v=c>-1?g[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ot])_e(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(hi(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=_s(g))?(_e(v,c),v.h==0&&(v.src=null,g[Pe]=null)):me(c)}}}function hi(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Oo(c,g){if(c.da)c=!0;else{g=new rt(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&ma(c),c=v.call(S,g)}return c}function _s(c){return c=c[Pe],c instanceof ue?c:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(g){return c.handleEvent(g)}),c[Mo])}function vt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}A(vt,V),vt.prototype[Ot]=!0,vt.prototype.removeEventListener=function(c,g,v,S){da(this,c,g,v,S)};function Vt(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var U=g;g=new O(S,c),ae(g,U)}U=!0;let q,ie;if(v)for(ie=v.length-1;ie>=0;ie--)q=g.g=v[ie],U=_r(q,S,!0,g)&&U;if(q=g.g=c,U=_r(q,S,!0,g)&&U,U=_r(q,S,!1,g)&&U,v)for(ie=0;ie<v.length;ie++)q=g.g=v[ie],U=_r(q,S,!1,g)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[g],c.h--}}this.G=null},vt.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},vt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function _r(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let q=0;q<g.length;++q){const ie=g[q];if(ie&&!ie.da&&ie.capture==v){const Ae=ie.listener,mt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),U=Ae.call(mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function mf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function vu(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){V.call(this),this.h=c,this.g={}}A(vs,V);var xo=[];function Lo(c){ze(c.g,function(g,v){this.g.hasOwnProperty(v)&&ma(g)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Lo(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,pf=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Tu(){}function Au(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}A(Bt,O);function Cn(){O.call(this,"c")}A(Cn,O);var dt={},Su=null;function pa(){return Su=Su||new vt}dt.Ia="serverreachability";function bu(c){O.call(this,dt.Ia,c)}A(bu,O);function fi(c){const g=pa();Vt(g,new bu(g))}dt.STAT_EVENT="statevent";function Es(c,g){O.call(this,dt.STAT_EVENT,c),this.stat=g}A(Es,O);function Et(c){const g=pa();Vt(g,new Es(g,c))}dt.Ja="timingevent";function di(c,g){O.call(this,dt.Ja,c),this.size=g}A(di,O);function mi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function gf(c,g,v,S,U,q){c.info(function(){if(c.g)if(q){var ie="",Ae=q.split("&");for(let qe=0;qe<Ae.length;qe++){var mt=Ae[qe].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const Mn=at.split("_");ie=Mn.length>=2&&Mn[1]=="type"?ie+(at+"="+mt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+v+`
`+ie})}function wu(c,g,v,S,U,q,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+v+`
`+q+" "+ie})}function pi(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+yf(c,v)+(S?" "+S:"")})}function Ts(c,g){c.info(function(){return"TIMEOUT: "+g})}Kn.prototype.info=function(){};function yf(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return vr(q)}catch{return g}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Ss(){}A(Ss,Tu),Ss.prototype.g=function(){return new XMLHttpRequest},Po=new Ss;function qi(c){return encodeURIComponent(String(c))}function Ru(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Yn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function gi(c,g,v){c.M=1,c.A=bs(St(g)),c.u=v,c.R=!0,ga(c,null)}function ga(c,g){c.F=Date.now(),yi(c),c.B=St(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ea(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Qn,c.g=ju(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(xo[0]=U.toString()),U=xo);for(let q=0;q<U.length;q++){const ie=st(v,U[q],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),fi(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Jn(c)==3?g.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Jn(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||Ae!=4||mt==7||(mt==8||qe<=0?fi(3):fi(2)),_i(this);var g=this.g.ca();this.X=g;var v=_f(this);if(this.o=g==200,wu(this.i,this.v,this.B,this.l,this.S,Ae,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break t}}q=null}if(c=q)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),Dn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Cu(this,v),at==kt){Ae==4&&(this.m=4,Et(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,at,null),vi(this,at);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(ie),ie.P=!0,Et(11))}}else pi(this.i,this.l,v,null),vi(this,v);Ae==4&&gn(this),this.o&&!this.K&&(Ae==4?Pu(this.j,this):(this.o=!1,yi(this)))}else Fi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Dn(this)}}}catch{}};function _f(c){if(!Iu(c))return c.g.la();const g=jt(c.g);if(g==="")return"";let v="";const S=g.length,U=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(g[q],{stream:!(U&&q==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?kt:(v=Number(g.substring(v,S)),isNaN(v)?Tt:(S+=1,S+v>g.length?kt:(g=g.slice(S,S+v),c.C=S+v,g)))}Yn.prototype.cancel=function(){this.K=!0,gn(this)};function yi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),g)}function _i(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(fi(),Et(17)),gn(this),this.m=2,Dn(this)):ya(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Pu(c.j,c)}function gn(c){_i(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Lo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function vi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)wa(v),Ir(v);else break e;Os(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(p(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&wa(v),!I(g))for(U=v.Ba.g.parse(g),g=0;g<U.length;g++){let qe=U[g];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Mn=qe[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ci=qe[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Zn=c.g;if(Zn){const Ms=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var q=S.h;q.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bo(q,q.h),q.h=null))}if(S.G){const Ra=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(S.wa=Ra,Ke(S.J,S.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ie=c;if(S.na=Bu(S,S.L?S.ba:null,S.W),ie.L){jo(S.h,ie);var Ae=ie,mt=S.O;mt&&(Ae.H=mt),Ae.D&&(_i(Ae),yi(Ae)),S.g=ie}else Lu(S);v.i.length>0&&Ri(v)}else qe[0]!="stop"&&qe[0]!="close"||Ii(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ii(v,7):Xo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}fi(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Bo(c,g){c.g?c.g.add(g):c.h=g}function jo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],g(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Ho(this,Vu(c.i)),this.m=c.m):c&&(g=String(c).match(Du))?(this.l=!1,Pt(this,g[1]||"",!0),this.o=Ai(g[2]||""),this.g=Ai(g[3]||"",!0),Er(this,g[4]),this.h=Ai(g[5]||"",!0),Ho(this,g[6]||"",!0),this.m=Ai(g[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}yn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ws(g,va,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ws(g,va,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?Fo:Nu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const g=St(this);let v=!!c.j;v?Pt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)Er(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=g.h.lastIndexOf("/");U!=-1&&(S=g.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ie=0;ie<U.length;){const Ae=U[ie++];Ae=="."?S&&ie==U.length&&q.push(""):Ae==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ie==U.length&&q.push("")):(q.push(Ae),S=!0)}S=q.join("/")}else S=U}return v?g.h=S:v=c.i.toString()!=="",v?Ho(g,Vu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function St(c){return new yn(c)}function Pt(c,g,v){c.j=v?Ai(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Ho(c,g,v){g instanceof Ar?(c.i=g,Ta(c.i,c.l)):(v||(g=ws(g,Tr)),c.i=new Ar(g,c.l))}function Ke(c,g,v){c.i.set(g,v)}function bs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,Nu=/[#\?:]/g,Fo=/[#\?]/g,Tr=/[#\?@]/g,Ou=/#/g;function Ar(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,g){an(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Mu(c,g){an(c),g=Sr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Go(c,g){return an(c),g=Sr(c,g),c.g.has(g)}r.forEach=function(c,g){an(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(g,U,S,this)},this)},this)};function Ko(c,g){an(c);let v=[];if(typeof g=="string")Go(c,g)&&(v=v.concat(c.g.get(Sr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return an(this),this.i=null,c=Sr(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ko(this,c),c.length>0?String(c[0]):g):g};function Ea(c,g,v){Mu(c,g),v.length>0&&(c.i=null,c.g.set(Sr(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const U=qi(v);v=Ko(this,v);for(let q=0;q<v.length;q++){let ie=U;v[q]!==""&&(ie+="="+qi(v[q])),c.push(ie)}}return this.i=c.join("&")};function Vu(c){const g=new Ar;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Sr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ta(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Mu(this,S),Ea(this,U,v))},c)),c.j=g}function $n(c,g){const v=new Kn;if(f.Image){const S=new Image;S.onload=E(Nn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(Nn,v,"TestLoadImage: error",!1,g,S),S.onabort=E(Nn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Yo(c,g){const v=new Kn,S=new AbortController,U=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Nn(v,"TestPingServer: ok",!0,g):Nn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,g)})}function Nn(c,g,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function br(){this.g=new Eu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Si,Tu),Si.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,g){vt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Rs,vt),r=Rs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):Xn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let g="";return ze(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Is(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=On(v),typeof c=="string"?v!=null&&qi(v):Ke(c,g,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($e,vt);var bi=/^https?$/i,Qo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Cs(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,g,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of v)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Cs(this,q)}};function Cs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,$o(c),Hi(c)}function $o(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=q===0){let ie=String(c.D).match(Du)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),S=!bi.test(ie?ie.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var U=Jn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",$o(c)}}finally{Hi(c)}}}}function Hi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pf(g)}};function jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const g={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Ru(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[U]||[];g[U]=q,q.push(v)}Ge(g,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Rr(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,S){Et(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Bu(this,null,this.W),Ri(this)};function Xo(c){if(Sa(c),c.I==3){var g=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),Ns(c,v),g=new Yn(c,c.j,g),g.M=2,g.A=bs(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=ju(g.j,null),g.g.ea(g.A)),g.F=Date.now(),yi(g)}zu(c)}function Ir(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function Sa(c){Ir(c),c.v&&(f.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ri(c){if(!zo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Ce||w(),Re||(Ce(),Re=!0),D.add(g,c),c.D=0}}function ba(c,g){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,g),Uu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Yn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=xu(this,U,g),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ns(this,v),q&&(this.R?g="headers="+qi(On(q))+"&"+g:this.u&&Is(v,this.u,q)),Bo(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",g),Ke(v,"SID","null"),U.U=!0,gi(U,v,null)):gi(U,v,g),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,g){var v;g?v=g.l:v=c.V++;const S=St(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),Ns(c,S),c.u&&c.o&&Is(S,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,v),gi(v,S,g)}function Ns(c,g){c.H&&ze(c.H,function(v,S){Ke(g,S,v)}),c.l&&ze({},function(v,S){Ke(g,S,v)})}function xu(c,g,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ae=-1;for(;;){const mt=["count="+v];Ae==-1?v>0?(Ae=U[0].g,mt.push("ofs="+Ae)):Ae=0:mt.push("ofs="+Ae);let qe=!0;for(let at=0;at<v;at++){var q=U[at].g;const Mn=U[at].map;if(q-=Ae,q<0)Ae=Math.max(0,U[at].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var ie=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ci,Wn]of ie){let Zn=Wn;m(Wn)&&(Zn=vr(Wn)),mt.push(q+Ci+"="+encodeURIComponent(Zn))}}catch(Ci){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(Mn)}}if(qe){ie=mt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),g.G=c,ie}function Lu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Ce||w(),Re||(Ce(),Re=!0),D.add(g,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),Uu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ir(this),ku(this))};function Wo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=St(c.na);Ke(g,"RID","rpc"),Ke(g,"SID",c.M),Ke(g,"AID",c.K),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(g,"TO",c.ia),Ke(g,"TYPE","xmlhttp"),Ns(c,g),c.u&&c.o&&Is(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(St(g)),v.u=null,v.R=!0,ga(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Os(this),Et(19))};function wa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Pu(c,g){var v=null;if(c.g==g){wa(c),Wo(c),c.g=null;var S=2}else if(Ti(c.h,g))v=g.G,jo(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;S=pa(),Vt(S,new di(S,v)),Ri(c)}else Lu(c);else if(U=g.m,U==3||U==0&&g.X>0||!(S==1&&ba(c,g)||S==2&&Os(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Uu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ii(c,g){if(c.j.info("Error code "+g),g==2){var v=p(c.bb,c),S=c.Ua;const U=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),bs(S),U?$n(S.toString(),v):Yo(S.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(g),zu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const g=qo(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ja,g),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Bu(c,g,v){var S=v instanceof yn?St(v):new yn(v);if(S.g!="")g&&(S.g=g+"."+S.g),Er(S,S.u);else{var U=f.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const q=new yn(null);S&&Pt(q,S),g&&(q.g=g),U&&Er(q,U),v&&(q.h=v),S=q}return v=c.G,g=c.wa,v&&g&&Ke(S,v,g),Ke(S,"VER",c.ka),Ns(c,S),S}function ju(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new Si({ab:v})):new $e(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){vt.call(this),this.g=new Rr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Gi(this)}A(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xo(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&Ri(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,tn.Z.N.call(this)};function Hu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Hu,Bt);function Fu(){Cn.call(this),this.status=1}A(Fu,Cn);function Gi(c){this.g=c}A(Gi,qu),Gi.prototype.ra=function(){Vt(this.g,"a")},Gi.prototype.qa=function(c){Vt(this.g,new Hu(c))},Gi.prototype.pa=function(c){Vt(this.g,new Fu)},Gi.prototype.oa=function(){Vt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,DA=function(){return new Cr},CA=function(){return pa()},IA=dt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,lh=As,ko.COMPLETE="complete",RA=ko,Au.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,zl=Au,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,wA=$e}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Ro="12.8.0";function RN(r){Ro=r}const ra=new jh("@firebase/firestore");function no(){return ra.logLevel}function le(r,...e){if(ra.logLevel<=Ve.DEBUG){const n=e.map(Bp);ra.debug(`Firestore (${Ro}): ${r}`,...n)}}function pr(r,...e){if(ra.logLevel<=Ve.ERROR){const n=e.map(Bp);ra.error(`Firestore (${Ro}): ${r}`,...n)}}function mo(r,...e){if(ra.logLevel<=Ve.WARN){const n=e.map(Bp);ra.warn(`Firestore (${Ro}): ${r}`,...n)}}function Bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ge(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,NA(r,s,n)}function NA(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||NA(e,o,s)}function Te(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class OA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class CN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new OA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class NN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ON{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function $m(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Mm(o)===Mm(u)?xe(o,u):Mm(o)?1:-1}return xe(r.length,e.length)}const xN=55296,LN=57343;function Mm(r){const e=r.charCodeAt(0);return e>=xN&&e<=LN}function po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const GE="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class et extends Vi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const kN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Vi{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return kN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GE}static keyField(){return new Yt([GE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function MA(r,e,n){if(!n)throw new oe(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PN(r,e,n,s){if(e===!0&&s===!0)throw new oe(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function KE(r){if(!de.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function YE(r){if(de.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function VA(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(r);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!VA(r))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(X.INVALID_ARGUMENT,n);return!0}const QE=-62135596800,$E=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$E);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$E}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new it(0,0))}static max(){return new ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function UN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new os(o,de.empty(),e)}function zN(r){return new os(r.readTime,r.key,Wl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(ve.min(),de.empty(),Wl)}static max(){return new os(ve.max(),de.empty(),Wl)}}function BN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}const jN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==jN)throw r;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function HN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const qp=-1;function $h(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function FN(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const xA="";function GN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=XE(e)),e=KN(r.get(n),e);return XE(e)}function KN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case xA:n+="";break;default:n+=u}}return n}function XE(r){return r+xA+""}function JE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function LA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Lt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class kA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kA("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const YN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=YN.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}const PA="server_timestamp",UA="__type__",zA="__previous_value__",BA="__local_write_time__";function Hp(r){return(r?.mapValue?.fields||{})[UA]?.stringValue===PA}function Xh(r){const e=r.mapValue.fields[zA];return Hp(e)?Xh(e):e}function Zl(r){const e=ls(r.mapValue.fields[BA].timestampValue);return new it(e.seconds,e.nanos)}class QN{constructor(e,n,s,o,u,f,m,y,p,E,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=A}}const Ih="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function $N(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(r.options.projectId,e)}const jA="__type__",XN="__max__",Wc={mapValue:{}},qA="__vector__",Ch="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hp(r)?4:WN(r)?9007199254740991:JN(r)?10:11:ge(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(JE(f)!==JE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Bi(f[y],m[y])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),y=yt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return ZE(r.timestampValue,e.timestampValue);case 4:return ZE(Zl(r),Zl(e));case 5:return $m(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),y=us(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=xe(m[p],y[p]);if(E!==0)return E}return xe(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=xe(yt(u.latitude),yt(f.latitude));return m!==0?m:xe(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return eT(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},p=m[Ch]?.arrayValue,E=y[Ch]?.arrayValue,A=xe(p?.values?.length||0,E?.values?.length||0);return A!==0?A:eT(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const b=$m(y[A],E[A]);if(b!==0)return b;const k=go(m[y[A]],p[E[A]]);if(k!==0)return k}return xe(y.length,E.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function ZE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=ls(r),s=ls(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function eT(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function yo(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"})(r.mapValue):ge(61005,{value:r})}function uh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,f)=>{o+=u.length+uh(f)})),o})(r.mapValue);default:throw ge(13486,{value:r})}}function tT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jm(r){return!!r&&"integerValue"in r}function Fp(r){return!!r&&"arrayValue"in r}function nT(r){return!!r&&"nullValue"in r}function iT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function JN(r){return(r?.mapValue?.fields||{})[jA]?.stringValue===qA}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ms(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Gl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(r.arrayValue.values[n]);return e}return{...r}}function WN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XN}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ms(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Gl(this.value))}}function HA(r){const e=[];return ms(r.fields,((n,s)=>{const o=new Yt([n]);if(ch(s)){const u=HA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,ve.min(),ve.min(),ve.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,ve.min(),ve.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ve.min(),ve.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function rT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class FA{}class Dt extends FA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tO(e,n,s):n==="array-contains"?new rO(e,s):n==="in"?new sO(e,s):n==="not-in"?new aO(e,s):n==="array-contains-any"?new oO(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nO(e,s):new iO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return GA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GA(r){return r.op==="and"}function KA(r){return eO(r)&&GA(r)}function eO(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function Wm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(KA(r))return r.filters.map((e=>Wm(e))).join(",");{const e=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${e})`}}function YA(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&YA(f,o.filters[m])),!0):!1})(r,e):void ge(19439)}function QA(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(QA).join(" ,")+"}"})(r):"Filter"}class tO extends Dt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class nO extends Dt{constructor(e,n){super(e,"in",n),this.keys=$A("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iO extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=$A("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $A(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class rO extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&tu(n.arrayValue,this.value)}}class sO extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class aO extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class oO extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}class lO{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function aT(r,e=null,n=[],s=[],o=null,u=null,f=null){return new lO(r,e,n,s,o,u,f)}function Gp(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Wm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function Kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!YA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sT(r.startAt,e.startAt)&&sT(r.endAt,e.endAt)}function Zm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uO(r,e,n,s,o,u,f,m){return new Do(r,e,n,s,o,u,f,m)}function Jh(r){return new Do(r)}function oT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cO(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function XA(r){return r.collectionGroup!==null}function Kl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Yt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new nu(Yt.keyField(),s))}return e.Ie}function Li(r){const e=Te(r);return e.Ee||(e.Ee=hO(e,Kl(r))),e.Ee}function hO(r,e){if(r.limitType==="F")return aT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nu(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return aT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ep(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function fO(r,e){const n=r.explicitOrderBy.concat([e]);return new Do(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function tp(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wh(r,e){return Kp(Li(r),Li(e))&&r.limitType===e.limitType}function JA(r){return`${Gp(Li(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>QA(o))).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Li(r))}; limitType=${r.limitType})`}function Zh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const p=rT(f,m,y);return f.inclusive?p<=0:p<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,y){const p=rT(f,m,y);return f.inclusive?p>=0:p>0})(s.endAt,Kl(s),o))})(r,e)}function dO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WA(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=mO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mO(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),p=m.data.field(u);return y!==null&&p!==null?go(y,p):ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}const pO=new ut(de.comparator);function gr(){return pO}const ZA=new ut(de.comparator);function Bl(...r){let e=ZA;for(const n of r)e=e.insert(n.key,n);return e}function eS(r){let e=ZA;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Yl()}function tS(){return Yl()}function Yl(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gO=new ut(de.comparator),yO=new Lt(de.comparator);function Le(...r){let e=yO;for(const n of r)e=e.add(n);return e}const _O=new Lt(xe);function vO(){return _O}function Yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function nS(r){return{integerValue:""+r}}function EO(r,e){return FN(e)?nS(e):Yp(r,e)}class ef{constructor(){this._=void 0}}function TO(r,e,n){return r instanceof iu?(function(o,u){const f={fields:{[UA]:{stringValue:PA},[BA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=Xh(u)),u&&(f.fields[zA]=u),{mapValue:f}})(n,e):r instanceof ru?rS(r,e):r instanceof su?sS(r,e):(function(o,u){const f=iS(o,u),m=lT(f)+lT(o.Ae);return Jm(f)&&Jm(o.Ae)?nS(m):Yp(o.serializer,m)})(r,e)}function AO(r,e,n){return r instanceof ru?rS(r,e):r instanceof su?sS(r,e):n}function iS(r,e){return r instanceof Nh?(function(s){return Jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class iu extends ef{}class ru extends ef{constructor(e){super(),this.elements=e}}function rS(r,e){const n=aS(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends ef{constructor(e){super(),this.elements=e}}function sS(r,e){let n=aS(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Nh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lT(r){return yt(r.integerValue||r.doubleValue)}function aS(r){return Fp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class SO{constructor(e,n){this.field=e,this.transform=n}}function bO(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?po(s.elements,o.elements,Bi):s instanceof Nh&&o instanceof Nh?Bi(s.Ae,o.Ae):s instanceof iu&&o instanceof iu})(r.transform,e.transform)}class wO{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class tf{}function oS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qp(r.key,Hn.none()):new mu(r.key,r.data,Hn.none());{const n=r.data,s=dn.empty();let o=new Lt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(r.key,s,new wn(o.toArray()),Hn.none())}}function RO(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),y=cT(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ps?(function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=cT(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(lS(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof mu?(function(u,f,m,y){if(!hh(u.precondition,f))return m;const p=u.value.clone(),E=hT(u.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ps?(function(u,f,m,y){if(!hh(u.precondition,f))return m;const p=hT(u.fieldTransforms,y,f),E=f.data;return E.setAll(lS(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function IO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iS(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function uT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,f)=>bO(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function cT(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,AO(f,m,n[o]))}return s}function hT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,TO(u,f,e))}return s}class Qp extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CO extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=oS(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>uT(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>uT(n,s)))}}class $p{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gO})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new $p(e,n,s,o)}}class NO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function MO(r){switch(r){case X.OK:return ge(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function uS(r){if(r===void 0)return pr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return ge(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function VO(){return new TextEncoder}const xO=new rs([4294967295,4294967295],0);function fT(r){const e=VO().encode(r),n=new bA;return n.update(e),new Uint8Array(n.digest())}function dT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class Xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(xO)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fT(e),[s,o]=dT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Xp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=fT(e),[s,o]=dT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nf(ve.min(),o,new ut(xe),gr(),Le())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Le(),Le(),Le())}}class fh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class cS{constructor(e,n){this.targetId=e,this.Ce=n}}class hS{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mT{constructor(){this.ve=0,this.Fe=pT(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ge(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=pT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class LO{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.He=Zc(),this.Je=Zc(),this.Ze=new ut(xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(s===0){const f=new de(u.path);this.et(n,f,Wt.newNoDocument(f,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(y){if(y instanceof kA)return mo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Xp(f,o,u)}catch(y){return mo(y instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Zm(m.target)){const y=new de(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Le();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new nf(e,n,this.Ze,this.je,s);return this.je=gr(),this.He=Zc(),this.Je=Zc(),this.Ze=new ut(xe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new mT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ut(de.comparator)}function pT(){return new ut(de.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},PO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UO={and:"AND",or:"OR"};class zO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function BO(r,e){return Oh(r,e.toTimestamp())}function ki(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=ls(n);return new it(s.seconds,s.nanos)})(r))}function Jp(r,e){return ip(r,e).canonicalString()}function ip(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function dS(r){const e=et.fromString(r);return Fe(_S(e),10190,{key:e.toString()}),e}function rp(r,e){return Jp(r.databaseId,e.path)}function Vm(r,e){const n=dS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(pS(n))}function mS(r,e){return Jp(r.databaseId,e)}function jO(r){const e=dS(r);return e.length===4?et.emptyPath():pS(e)}function sp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gT(r,e,n){return{name:rp(r,e),fields:n.value.mapValue.fields}}function qO(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ge(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?X.UNKNOWN:uS(p.code);return new oe(E,p.message||"")})(f);n=new hS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(r,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):ve.min(),m=new dn({mapValue:{fields:s.document.fields}}),y=Wt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vm(r,s.document),u=s.readTime?ki(s.readTime):ve.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vm(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new OO(o,u),m=s.targetId;n=new cS(m,f)}}return n}function HO(r,e){let n;if(e instanceof mu)n={update:gT(r,e.key,e.value)};else if(e instanceof Qp)n={delete:rp(r,e.key)};else if(e instanceof ps)n={update:gT(r,e.key,e.data),updateMask:WO(e.fieldMask)};else{if(!(e instanceof CO))return ge(16599,{dt:e.type});n={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ge(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:BO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge(27497)})(r,e.precondition)),n}function FO(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(ve.min())&&(f=ki(u)),new wO(f,o.transformResults||[])})(n,e)))):[]}function GO(r,e){return{documents:[mS(r,e.path)]}}function KO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mS(r,o);const u=(function(p){if(p.length!==0)return yS(li.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(b){return{field:ro(b.field),direction:$O(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=np(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function YO(r){let e=jO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const b=gS(A);return b instanceof li&&KA(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((b=>(function(Q){return new nu(so(Q.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let b;return b=typeof A=="object"?A.value:A,$h(b)?null:b})(n.limit));let y=null;n.startAt&&(y=(function(A){const b=!!A.before,k=A.values||[];return new Dh(k,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(A){const b=!A.before,k=A.values||[];return new Dh(k,b)})(n.endAt)),uO(e,o,f,u,m,"F",y,p)}function QO(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>gS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(n.compositeFilter.op))})(r):ge(30097,{filter:r})}function $O(r){return kO[r]}function XO(r){return PO[r]}function JO(r){return UO[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Yt.fromServerFormat(r.fieldPath)}function yS(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(iT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(nT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(nT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:XO(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>yS(o)));return s.length===1?s[0]:{compositeFilter:{op:JO(n.op),filters:s}}})(r):ge(54877,{filter:r})}function WO(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _S(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function vS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ts{constructor(e,n,s,o,u=ve.min(),f=ve.min(),m=Qt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZO{constructor(e){this.yt=e}}function eM(r){const e=YO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tp(e,e.limit,"L"):e}class tM{constructor(){this.Sn=new nM}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(os.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class nM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(et.comparator)).toArray()}}const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ES=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ES,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const _T="LruGarbageCollector",iM=1048576;function vT([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class rM{constructor(e){this.Pr=e,this.buffer=new Lt(vT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(_T,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?le(_T,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Ar(3e5)}))}}class aM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Qh.ce);const s=new rM(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(p=Date.now(),no()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function oM(r,e){return new aM(r,e)}class lM{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,wn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=gr();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ps)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Ql(E.mutation,p,E.mutation.getFieldMask(),it.now())):f.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new uM(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new ut(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=s.get(y)||wn.empty();E=m.applyToLocalView(p,E),s.set(y,E);const A=(o.get(m.batchId)||Le()).add(y);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,A=tS();E.forEach((b=>{if(!u.has(b)){const k=oS(n.get(b),s.get(b));k!==null&&A.set(b,k),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,A))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return cO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Js());let m=Wl,y=u;return f.next((p=>Z.forEach(p,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{y=y.insert(E,b)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Le()))).next((E=>({batchId:m,changes:eS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(y=>{const p=(function(A,b){return new Do(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((A,b)=>{f=f.insert(A,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&Ql(E.mutation,p,wn.empty(),it.now()),Zh(n,p)&&(m=m.insert(y,p))})),m}))}}class hM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:eM(o.bundledQuery),readTime:ki(o.readTime)}})(n)),Z.resolve()}}class fM{constructor(){this.overlays=new ut(de.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Js(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Js(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new NO(n,s));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class dM{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class Wp{constructor(){this.kr=new Lt(zt.Kr),this.qr=new Lt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new de(new et([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new de(new et([])),s=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return de.comparator(e.key,n.key)||xe(e.Hr,n.Hr)}static Ur(e,n){return xe(e.Hr,n.Hr)||de.comparator(e.key,n.key)}}class mM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(zt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?qp:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(xe);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new zt(new de(u),0);let m=new Lt(xe);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pM{constructor(e){this.ti=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||BN(zN(E),s)<=0||(o.has(E.key)||Zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ge(9500)}ni(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gM(this)}getSize(e){return Z.resolve(this.size)}}class gM extends lM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class yM{constructor(e){this.persistence=e,this.ri=new ca((n=>Gp(n)),Kp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Wp,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class TS{constructor(e,n){this._i={},this.overlays={},this.ai=new Qh(0),this.ui=!1,this.ui=!0,this.ci=new dM,this.referenceDelegate=e(this),this.li=new yM(this),this.indexManager=new tM,this.remoteDocumentCache=(function(o){return new pM(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new ZO(n),this.Pi=new hM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new mM(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new _M(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class _M extends qN{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Ri=new Wp,this.Ai=null}static Vi(e){return new Zp(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=de.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.fi=new ca((s=>GN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=oM(this,n)}static Vi(e,n){return new Mh(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}wr(e,n,s){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,n.fromCache,s,o)}}class vM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return kR()?8:HN(Zt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new vM;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(no()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(no()<=Ve.DEBUG&&le("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(no()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):Z.resolve())}gs(e,n){if(oT(n))return Z.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tp(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.bs(n,m);return this.Ss(n,p,f,y.readTime)?this.gs(e,tp(n,null,"F")):this.Ds(e,p,n,y)}))))})))))}ps(e,n,s,o){return oT(n)||o.isEqual(ve.min())?Z.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?Z.resolve(null):(no()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.Ds(e,f,n,UN(o,Wl)).next((m=>m)))}))}bs(e,n){let s=new Lt(WA(e));return n.forEach(((o,u)=>{Zh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return no()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(e,n,os.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const tg="LocalStore",TM=3e8;class AM{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(xe),this.Fs=new ca((u=>Gp(u)),Kp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SM(r,e,n,s){return new AM(r,e,n,s)}async function AS(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=Le();for(const p of o){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function bM(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,p,E){const A=p.batch,b=A.keys();let k=Z.resolve();return b.forEach((Q=>{k=k.next((()=>E.getEntry(y,Q))).next(($=>{const P=p.docVersions.get(Q);Fe(P!==null,48541),$.version.compareTo(P)<0&&(A.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),E.addEntry($)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(y,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function SS(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function wM(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,A)=>{const b=o.get(A);if(!b)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,A))));let k=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Qt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(A,k),(function($,P,ne){return $.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=TM?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(b,k,E)&&m.push(n.li.updateTargetData(u,k))}));let y=gr(),p=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(RM(u,f,e.documentUpdates).next((E=>{y=E.Bs,p=E.Ls}))),!s.isEqual(ve.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=o,u)))}function RM(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=gr();return n.forEach(((m,y)=>{const p=u.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):le(tg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function IM(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CM(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function ap(r,e,n){const s=Te(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Co(f))throw f;le(tg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function ET(r,e,n){const s=Te(r);let o=ve.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,E){const A=Te(y),b=A.Fs.get(E);return b!==void 0?Z.resolve(A.vs.get(b)):A.li.getTargetData(p,E)})(s,f,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?u:Le()))).next((m=>(DM(s,dO(e),m),{documents:m,ks:u})))))}function DM(r,e,n){let s=r.Ms.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class TT{constructor(){this.activeTargetIds=vO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NM{constructor(){this.vo=new TT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new TT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OM{Mo(e){}shutdown(){}}const AT="ConnectivityMonitor";class ST{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(AT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(AT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function op(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const xm="RestConnection",MM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=op(),m=this.Qo(e,n.toUriEncodedString());le(xm,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:p}=new URL(m),E=So(p);return this.zo(e,m,y,s,E).then((A=>(le(xm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw mo(xm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=MM[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class xM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",Ul=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends VM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=CA();Ul(e,IA.STAT_EVENT,(n=>{n.stat===Qm.PROXY?le(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Qm.NOPROXY&&le(Xt,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,s,o,u){const f=op();return new Promise(((m,y)=>{const p=new wA;p.setWithCredentials(!0),p.listenOnce(RA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const A=p.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case lh.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),y(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const b=p.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const $=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(te)>=0?te:X.UNKNOWN})(Q.status);y(new oe($,Q.message))}else y(new oe(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new oe(X.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=op(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=f.createWebChannel(p,m);this.I_(E);let A=!1,b=!1;const k=new xM({Ho:Q=>{b?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(A||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,Q),E.send(Q))},Jo:()=>E.close()});return Ul(E,zl.EventType.OPEN,(()=>{b||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Ul(E,zl.EventType.CLOSE,(()=>{b||(b=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Ul(E,zl.EventType.ERROR,(Q=>{b||(b=!0,mo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),k.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Ul(E,zl.EventType.MESSAGE,(Q=>{if(!b){const $=Q.data[0];Fe(!!$,16349);const P=$,ne=P?.error||P[0]?.error;if(ne){le(Xt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let re=(function(Re){const D=Ct[Re];if(D!==void 0)return uS(D)})(te),Ie=ne.message;re===void 0&&(re=X.INTERNAL,Ie="Unknown error status: "+te+" with message "+ne.message),b=!0,k.o_(new oe(re,Ie)),E.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,$),k.__($)}})),co.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DA()}}function LM(r){return new co(r)}function Lm(){return typeof document<"u"?document:null}function rf(r){return new zO(r,!0)}co.c_=!1;class bS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bT="PersistentStream";class wS{constructor(e,n,s,o,u,f,m,y){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kM extends wS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?ki(f.readTime):ve.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Zm(y)?{documents:GO(u,y)}:{query:KO(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fS(u,f.resumeToken);const p=np(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const p=np(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=QO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.K_(n)}}class PM extends wS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FO(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>HO(this.serializer,s)))};this.K_(n)}}class UM{}class zM extends UM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,ip(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(X.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,ip(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BM(r,e,n,s){return new zM(r,e,n,s)}class jM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class qM{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{ha(this)&&(le(sa,"Restarting streams for network reachability change."),await(async function(y){const p=Te(y);p.Ea.add(4),await gu(p),p.Va.set("Unknown"),p.Ea.delete(4),await sf(p)})(this))}))})),this.Va=new jM(s,o)}}async function sf(r){if(ha(r))for(const e of r.Ra)await e(!0)}async function gu(r){for(const e of r.Ra)await e(!1)}function RS(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sg(n)?rg(n):No(n).O_()&&ig(n,e))}function ng(r,e){const n=Te(r),s=No(n);n.Ia.delete(e),s.O_()&&IS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Va.set("Unknown"))}function ig(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Z_(e)}function IS(r,e){r.da.$e(e),No(r).X_(e)}function rg(r){r.da=new LO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Va.ua()}function sg(r){return ha(r)&&!No(r).x_()&&r.Ia.size>0}function ha(r){return Te(r).Ea.size===0}function CS(r){r.da=void 0}async function HM(r){r.Va.set("Online")}async function FM(r){r.Ia.forEach(((e,n)=>{ig(r,e)}))}async function GM(r,e){CS(r),sg(r)?(r.Va.ha(e),rg(r)):r.Va.set("Unknown")}async function KM(r,e,n){if(r.Va.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(r,s)}else if(e instanceof fh?r.da.Xe(e):e instanceof cS?r.da.st(e):r.da.tt(e),!n.isEqual(ve.min()))try{const s=await SS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),IS(u,y);const A=new ts(E.target,y,p,E.sequenceNumber);ig(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(sa,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,e,n){if(!Co(e))throw e;r.Ea.add(1),await gu(r),r.Va.set("Offline"),n||(n=()=>SS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(sa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await sf(r)}))}function DS(r,e){return e().catch((n=>Vh(r,n,e)))}async function af(r){const e=Te(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qp;for(;YM(e);)try{const o=await IM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,QM(e,o)}catch(o){await Vh(e,o)}NS(e)&&OS(e)}function YM(r){return ha(r)&&r.Ta.length<10}function QM(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function NS(r){return ha(r)&&!hs(r).x_()&&r.Ta.length>0}function OS(r){hs(r).start()}async function $M(r){hs(r).ra()}async function XM(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function JM(r,e,n){const s=r.Ta.shift(),o=$p.from(s,e,n);await DS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await af(r)}async function WM(r,e){e&&hs(r).Y_&&await(async function(s,o){if((function(f){return MO(f)&&f!==X.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await DS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await af(s)}})(r,e),NS(r)&&OS(r)}async function wT(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),le(sa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await gu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sf(n)}async function ZM(r,e){const n=Te(r);e?(n.Ea.delete(2),await sf(n)):e||(n.Ea.add(2),await gu(n),n.Va.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new kM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:HM.bind(null,r),Yo:FM.bind(null,r),t_:GM.bind(null,r),J_:KM.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),sg(r)?rg(r):r.Va.set("Unknown")):(await r.ma.stop(),CS(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new PM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$M.bind(null,r),t_:WM.bind(null,r),ta:XM.bind(null,r),na:JM.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await af(r)):(await r.fa.stop(),r.Ta.length>0&&(le(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ag(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Co(r))return new oe(X.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class RT{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,f,m,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new vo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class eV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class tV{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=IT(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function IT(){return new ca((r=>JA(r)),Wh)}async function lg(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new eV,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=og(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&cg(n)}async function ug(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nV(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&cg(n)}function iV(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function cg(r){r.Ca.forEach((e=>{e.next()}))}var lp,CT;(CT=lp||(lp={})).Ma="default",CT.Cache="cache";class hg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}class MS{constructor(e){this.key=e}}class VS{constructor(e){this.key=e}}class rV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=WA(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new RT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const b=o.get(E),k=Zh(this.query,A)?A:null,Q=!!b&&this.mutatedKeys.has(b.key),$=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;b&&k?b.data.isEqual(k.data)?Q!==$&&(s.track({type:3,doc:k}),P=!0):this.su(b,k)||(s.track({type:2,doc:k}),P=!0,(y&&this.eu(k,y)>0||p&&this.eu(k,p)<0)&&(m=!0)):!b&&k?(s.track({type:0,doc:k}),P=!0):b&&!k&&(s.track({type:1,doc:b}),P=!0,(y||p)&&(m=!0)),P&&(k?(f=f.add(k),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,A)=>(function(k,Q){const $=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:P})}};return $(k)-$(Q)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,p=y!==this.Xa;return this.Xa=y,f.length!==0||p?{snapshot:new vo(this.query,e.tu,u,f,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new VS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new MS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fg="SyncEngine";class sV{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class aV{constructor(e){this.key=e,this.hu=!1}}class oV{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((m=>JA(m)),Wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(de.comparator),this.Au=new Map,this.Vu=new Wp,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lV(r,e,n=!0){const s=zS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xS(s,e,n,!0),o}async function uV(r,e){const n=zS(r);await xS(n,e,!0,!1)}async function xS(r,e,n,s){const o=await CM(r.localStore,Li(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await cV(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&RS(r.remoteStore,o),m}async function cV(r,e,n,s,o){r.pu=(A,b,k)=>(async function($,P,ne,te){let re=P.view.ru(ne);re.Ss&&(re=await ET($.localStore,P.query,!1).then((({documents:D})=>P.view.ru(D,re))));const Ie=te&&te.targetChanges.get(P.targetId),Ce=te&&te.targetMismatches.get(P.targetId)!=null,Re=P.view.applyChanges(re,$.isPrimaryClient,Ie,Ce);return NT($,P.targetId,Re.au),Re.snapshot})(r,A,b,k);const u=await ET(r.localStore,e,!0),f=new rV(e,u.ks),m=f.ru(u.documents),y=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,y);NT(r,n,p.au);const E=new sV(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function hV(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Wh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ng(s.remoteStore,o.targetId),up(s,o.targetId)})).catch(Io)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function fV(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function dV(r,e,n){const s=EV(r);try{const o=await(function(f,m){const y=Te(f),p=it.now(),E=m.reduce(((k,Q)=>k.add(Q.key)),Le());let A,b;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=gr(),$=Le();return y.xs.getEntries(k,E).next((P=>{Q=P,Q.forEach(((ne,te)=>{te.isValidDocument()||($=$.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,Q))).next((P=>{A=P;const ne=[];for(const te of m){const re=IO(te,A.get(te.key).overlayedDocument);re!=null&&ne.push(new ps(te.key,re,HA(re.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(k,p,ne,m)})).next((P=>{b=P;const ne=P.applyToLocalDocumentSet(A,$);return y.documentOverlayCache.saveOverlays(k,P.batchId,ne)}))})).then((()=>({batchId:b.batchId,changes:eS(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let p=f.du[f.currentUser.toKey()];p||(p=new ut(xe)),p=p.insert(m,y),f.du[f.currentUser.toKey()]=p})(s,o.batchId,n),await yu(s,o.changes),await af(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");n.reject(u)}}async function LS(r,e){const n=Te(r);try{const s=await wM(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await Io(s)}}function DT(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Te(f);y.onlineState=m;let p=!1;y.queries.forEach(((E,A)=>{for(const b of A.ba)b.va(m)&&(p=!0)})),p&&cg(y)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mV(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(de.comparator);f=f.insert(u,Wt.newNoDocument(u,ve.min()));const m=Le().add(u),y=new nf(ve.min(),new Map,new ut(xe),f,m);await LS(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(e),dg(s)}else await ap(s.localStore,e,!1).then((()=>up(s,e,n))).catch(Io)}async function pV(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await bM(n.localStore,e);PS(n,s,null),kS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await Io(o)}}async function gV(r,e,n){const s=Te(r);try{const o=await(function(f,m){const y=Te(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next((A=>(Fe(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(p,A)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);PS(s,e,n),kS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await Io(o)}}function kS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function PS(r,e,n){const s=Te(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function up(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||US(r,s)}))}function US(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(ng(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),dg(r))}function NT(r,e,n){for(const s of n)s instanceof MS?(r.Vu.addReference(s.key,e),yV(r,s)):s instanceof VS?(le(fg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||US(r,s.key)):ge(19791,{wu:s})}function yV(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(fg,"New document in limbo: "+n),r.Eu.add(s),dg(r))}function dg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new aV(n)),r.Ru=r.Ru.insert(n,s),RS(r.remoteStore,new ts(Li(Jh(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function yu(r,e,n){const s=Te(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=eg.Es(y.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(y,p){const E=Te(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(p,(b=>Z.forEach(b.Ts,(k=>E.persistence.referenceDelegate.addReference(A,b.targetId,k))).next((()=>Z.forEach(b.Is,(k=>E.persistence.referenceDelegate.removeReference(A,b.targetId,k)))))))))}catch(A){if(!Co(A))throw A;le(tg,"Failed to update sequence numbers: "+A)}for(const A of p){const b=A.targetId;if(!A.fromCache){const k=E.vs.get(b),Q=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(Q);E.vs=E.vs.insert(b,$)}}})(s.localStore,u))}async function _V(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){le(fg,"User change. New user:",e.toKey());const s=await AS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new oe(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ns)}}function vV(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function zS(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mV.bind(null,e),e.Pu.J_=nV.bind(null,e.eventManager),e.Pu.yu=iV.bind(null,e.eventManager),e}function EV(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gV.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SM(this.persistence,new EM,e.initialUser,this.serializer)}Cu(e){return new TS(Zp.Vi,this.serializer)}Du(e){return new NM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class TV extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new TS((s=>Mh.Vi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_V.bind(null,this.syncEngine),await ZM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tV})()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),s=LM(e.databaseInfo);return BM(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new qM(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>DT(this.syncEngine,n,0)),(function(){return ST.v()?new ST:new OM})())}createSyncEngine(e,n){return(function(o,u,f,m,y,p,E){const A=new oV(o,u,f,m,y,p);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);le(sa,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class AV{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=og(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function km(r,e){r.asyncQueue.verifyOperationInProgress(),le(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await AS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function OT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await SV(r);le(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>wT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>wT(e.remoteStore,o))),r._onlineComponents=e}async function SV(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(fs,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await km(r,new xh)}}else le(fs,"Using default OfflineComponentProvider"),await km(r,new TV(void 0));return r._offlineComponents}async function BS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(fs,"Using user provided OnlineComponentProvider"),await OT(r,r._uninitializedComponentsProvider._online)):(le(fs,"Using default OnlineComponentProvider"),await OT(r,new cp))),r._onlineComponents}function bV(r){return BS(r).then((e=>e.syncEngine))}async function Lh(r){const e=await BS(r),n=e.eventManager;return n.onListen=lV.bind(null,e.syncEngine),n.onUnlisten=hV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fV.bind(null,e.syncEngine),n}function wV(r,e,n,s){const o=new mg(s),u=new hg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>lg(await Lh(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>ug(await Lh(r),u)))}}function RV(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,p){const E=new mg({next:b=>{E.Nu(),f.enqueueAndForget((()=>ug(u,A)));const k=b.docs.has(m);!k&&b.fromCache?p.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&b.fromCache&&y&&y.source==="server"?p.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new hg(Jh(m.path),E,{includeMetadataChanges:!0,Ka:!0});return lg(u,A)})(await Lh(r),r.asyncQueue,e,n,s))),s.promise}function IV(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,p){const E=new mg({next:b=>{E.Nu(),f.enqueueAndForget((()=>ug(u,A))),b.fromCache&&y.source==="server"?p.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new hg(m,E,{includeMetadataChanges:!0,Ka:!0});return lg(u,A)})(await Lh(r),r.asyncQueue,e,n,s))),s.promise}function CV(r,e){const n=new hr;return r.asyncQueue.enqueueAndForget((async()=>dV(await bV(r),e,n))),n.promise}function jS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const DV="ComponentProvider",MT=new Map;function NV(r,e,n,s,o){return new QN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,jS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const qS="firestore.googleapis.com",VT=!0;class xT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=VT}else this.host=e.host,this.ssl=e.ssl??VT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ES;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iM)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IN;switch(s.type){case"firstParty":return new ON(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=MT.get(n);s&&(le(DV,"Removing Datastore"),MT.delete(n),s.terminate())})(this),Promise.resolve()}}function OV(r,e,n,s={}){r=mn(r,of);const o=So(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(g0(`https://${m}`),y0("Firestore",!0)),u.host!==qS&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!as(y,f)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=CR(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(A)}r._authCredentials=new CN(new OA(p,E))}}class gs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,ft._jsonSchema))return new ft(e,s||null,new de(et.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Nt("string",ft._jsonSchemaVersion),referencePath:Nt("string")};class ss extends gs{constructor(e,n,s){super(e,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new de(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function kh(r,e,...n){if(r=_t(r),MA("collection","path",e),r instanceof of){const s=et.fromString(e,...n);return YE(s),new ss(r,null,s)}{if(!(r instanceof ft||r instanceof ss))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return YE(s),new ss(r.firestore,null,s)}}function ui(r,e,...n){if(r=_t(r),arguments.length===1&&(e=jp.newId()),MA("doc","path",e),r instanceof of){const s=et.fromString(e,...n);return KE(s),new ft(r,null,new de(s))}{if(!(r instanceof ft||r instanceof ss))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return KE(s),new ft(r.firestore,r instanceof ss?r.converter:null,new de(s))}}const LT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const s=Lm();s&&le(LT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;le(LT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",PT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class yr extends of{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new kT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function MV(r,e){const n=typeof r=="object"?r:Sp(),s=typeof r=="string"?r:Ih,o=ua(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=RR("firestore");u&&OV(o,...u)}return o}function lf(r){if(r._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VV(r),r._firestoreClient}function VV(r){const e=r._freezeSettings(),n=NV(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AV(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Qt.fromBase64String(e))}catch(n){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Nt("string",jn._jsonSchemaVersion),bytes:Nt("string")};class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(du(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Nt("string",ai._jsonSchemaVersion),vectorValues:Nt("object")};const xV=/^__.*__$/;class LV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class HS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:r})}}class gg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ph(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(FS(this.dataSource)&&xV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class kV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rf(e)}createContext(e,n,s,o=!1){return new gg({dataSource:e,methodName:n,targetDoc:s,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(r){const e=r._freezeSettings(),n=rf(r._databaseId);return new kV(r._databaseId,!!e.ignoreUndefinedProperties,n)}function GS(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);_g("Data must be an object, but it was:",f,s);const m=KS(s,f);let y,p;if(u.merge)y=new wn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=aa(e,A,n);if(!f.contains(b))throw new oe(X.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$S(E,b)||E.push(b)}y=new wn(E),p=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,p=f.fieldTransforms;return new LV(new dn(m),y,p)}class hf extends uf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class yg extends uf{_toFieldTransform(e){return new SO(e.path,new iu)}isEqual(e){return e instanceof yg}}function PV(r,e,n,s){const o=r.createContext(1,e,n);_g("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ms(s,((y,p)=>{const E=QS(e,y,n);p=_t(p);const A=o.childContextForFieldPath(E);if(p instanceof hf)u.push(E);else{const b=_u(p,A);b!=null&&(u.push(E),f.set(E,b))}}));const m=new wn(u);return new HS(f,m,o.fieldTransforms)}function UV(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[aa(e,s,n)],y=[o];if(u.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(aa(e,u[b])),y.push(u[b+1]);const p=[],E=dn.empty();for(let b=m.length-1;b>=0;--b)if(!$S(p,m[b])){const k=m[b];let Q=y[b];Q=_t(Q);const $=f.childContextForFieldPath(k);if(Q instanceof hf)p.push(k);else{const P=_u(Q,$);P!=null&&(p.push(k),E.set(k,P))}}const A=new wn(p);return new HS(E,A,f.fieldTransforms)}function zV(r,e,n,s=!1){return _u(n,r.createContext(s?4:3,e))}function _u(r,e){if(YS(r=_t(r)))return _g("Unsupported field value:",e,r),KS(r,e);if(r instanceof uf)return(function(s,o){if(!FS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=_u(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:fS(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(f,m){const y=f instanceof ai?f.toArray():f;return{mapValue:{fields:{[jA]:{stringValue:qA},[Ch]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Yp(m.serializer,E)}))}}}}}})(s,o);if(vS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Yh(s)}`)})(r,e)}function KS(r,e){const n={};return LA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(r,((s,o)=>{const u=_u(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function YS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Pi||r instanceof jn||r instanceof ft||r instanceof uf||r instanceof ai||vS(r))}function _g(r,e,n){if(!YS(n)||!VA(n)){const s=Yh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function aa(r,e,n){if((e=_t(e))instanceof pg)return e._internalPath;if(typeof e=="string")return QS(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const BV=new RegExp("[~\\*/\\[\\]]");function QS(r,e,n){if(e.search(BV)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new oe(X.INVALID_ARGUMENT,m+r+y)}function $S(r,e){return r.some((n=>n.isEqual(e)))}class jV{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ch].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ai(n)}convertGeoPoint(e){return new Pi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(_S(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class vg extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function qV(){return new yg("serverTimestamp")}const UT="@firebase/firestore",zT="4.10.0";function BT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class XS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(aa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HV extends XS{data(){return super.data()}}function JS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class WS extends Eg{}function hp(r,e,...n){let s=[];e instanceof Eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((y=>y instanceof Tg)).length,m=u.filter((y=>y instanceof ff)).length;if(f>1||f>0&&m>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ff extends WS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ff(e,n,s)}_apply(e){const n=this._parse(e);return ZS(e._query,n),new gs(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=cf(e.firestore);return(function(u,f,m,y,p,E,A){let b;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){HT(A,E);const Q=[];for(const $ of A)Q.push(qT(y,u,$));b={arrayValue:{values:Q}}}else b=qT(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||HT(A,E),b=zV(m,f,A,E==="in"||E==="not-in");return Dt.create(p,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fp(r,e,n){const s=e,o=aa("where",r);return ff._create(o,s,n)}class Tg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)ZS(f,y),f=ep(f,y)})(e._query,n),new gs(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends WS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ag(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,fO(e._query,n))}}function jT(r,e="asc"){const n=e,s=aa("orderBy",r);return Ag._create(s,n)}function qT(r,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(e)&&n.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tT(r,new de(s))}if(n instanceof ft)return tT(r,n._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function HT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function eb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends XS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(aa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Nt("string",Zs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class dh extends Zs{data(e={}){return super.data(e)}}class ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:FV(m.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Nt("string",ea._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function GV(r){r=mn(r,ft);const e=mn(r.firestore,yr),n=lf(e);return RV(n,r._key).then((s=>tb(e,r,s)))}function KV(r){r=mn(r,gs);const e=mn(r.firestore,yr),n=lf(e),s=new vg(e);return JS(r._query),IV(n,r._query).then((o=>new ea(e,s,r,o)))}function YV(r,e,n){r=mn(r,ft);const s=mn(r.firestore,yr),o=eb(r.converter,e),u=cf(s);return df(s,[GS(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Hn.none())])}function Eo(r,e,n,...s){r=mn(r,ft);const o=mn(r.firestore,yr),u=cf(o);let f;return f=typeof(e=_t(e))=="string"||e instanceof pg?UV(u,"updateDoc",r._key,e,n,s):PV(u,"updateDoc",r._key,e),df(o,[f.toMutation(r._key,Hn.exists(!0))])}function QV(r){return df(mn(r.firestore,yr),[new Qp(r._key,Hn.none())])}function $V(r,e){const n=mn(r.firestore,yr),s=ui(r),o=eb(r.converter,e),u=cf(r.firestore);return df(n,[GS(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then((()=>s))}function mh(r,...e){r=_t(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof ft)f=mn(r.firestore,yr),m=Jh(r._key.path),u={next:p=>{e[s]&&e[s](tb(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=mn(r,gs);f=mn(p.firestore,yr),m=p._query;const E=new vg(f);u={next:A=>{e[s]&&e[s](new ea(f,E,p,A))},error:e[s+1],complete:e[s+2]},JS(r._query)}const y=lf(f);return wV(y,m,o,u)}function df(r,e){const n=lf(r);return CV(n,e)}function tb(r,e,n){const s=n.docs.get(e._key),o=new vg(r);return new Zs(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){RN(bo),Ui(new oi("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new yr(new DN(s.getProvider("auth-internal")),new MN(f,s.getProvider("app-check-internal")),$N(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),qn(UT,zT,e),qn(UT,zT,"esm2020")})();const XV={apiKey:"AIzaSyBiazmMCbv0lX-_YzNAFZ-3PpahMj1LDJk",authDomain:"coupons-app-a5e6a.firebaseapp.com",projectId:"coupons-app-a5e6a",storageBucket:"coupons-app-a5e6a.firebasestorage.app",messagingSenderId:"836676055349",appId:"1:836676055349:web:d7a71d61dbb973a111dc7c",measurementId:"G-TC62M0FW6F"},Sg=b0(XV);TN(Sg);const au=tD(Sg),JV=new or,pn=MV(Sg),WV=()=>{const r=yp(),e=async()=>{try{await c2(au,JV),r("/dashboard")}catch(n){console.error("Login failed",n.message)}};return ee.jsx("div",{className:"hero min-h-screen bg-base-200",children:ee.jsx("div",{className:"hero-content text-center",children:ee.jsxs("div",{className:"max-w-md",children:[ee.jsx("h1",{className:"text-5xl font-bold",children:"Welcome!"}),ee.jsx("p",{className:"py-6",children:"Sign in to access your Coupons"}),ee.jsx("button",{onClick:e,className:"btn btn-primary",children:"Sign in with Google"})]})})})},ZV=async r=>{const e=ui(pn,"coupons",r);return await Eo(e,{status:"claimed",claimedAt:new Date,seenByCreator:!1})},ex=async r=>{const e=ui(pn,"coupons",r);return await Eo(e,{seenByCreator:!0})},tx=async r=>{await QV(ui(pn,"coupons",r))},nx=async(r,e,n)=>{await $V(kh(pn,"coupons"),{...n,createdBy:r,partnerId:e,createdAt:qV(),status:"active",seenByCreator:!0})},ix=()=>Math.random().toString(36).substring(2,8).toUpperCase(),rx=async r=>{const e=ui(pn,"users",r.uid),n=await GV(e);return n.exists()||await YV(e,{uid:r.uid,email:r.email,inviteCode:ix(),linkedWith:null}),n.data()},sx=async(r,e)=>{const n=hp(kh(pn,"users"),fp("inviteCode","==",e)),s=await KV(n);if(s.empty)throw new Error("Invalid Code");const u=s.docs[0].id;if(u===r.uid)throw new Error("You cannot link with yourself");await Eo(ui(pn,"users",r.uid),{linkedWith:u}),await Eo(ui(pn,"users",u),{linkedWith:r.uid})},FT=async(r,e)=>{await Eo(ui(pn,"users",r),{linkedWith:null}),await Eo(ui(pn,"users",e),{linkedWith:null})};function ax(){const r=au.currentUser,[e,n]=F.useState(null),[s,o]=F.useState("");F.useEffect(()=>{if(!r)return;rx(r);const f=mh(ui(pn,"users",r.uid),m=>{m.exists()&&n(m.data())});return()=>f()},[r]);const u=async f=>{f.preventDefault();try{await sx(r,s),o("")}catch(m){alert(m.message)}};return ee.jsxs("div",{className:"navbar bg-base-200 shadow-lg px-2 md:px-4",children:[ee.jsx("div",{className:"flex-1",children:ee.jsx("a",{className:"btn btn-ghost text-lg md:text-xl",children:"Couple-pons"})}),ee.jsxs("div",{className:"flex-none flex items-center gap-2",children:[ee.jsxs("div",{className:"hidden md:flex items-center gap-4 mr-2",children:[ee.jsxs("div",{className:"flex flex-col items-end",children:[ee.jsx("span",{className:"text-[10px] opacity-60 uppercase font-bold",children:"Your Invite Code"}),ee.jsx("span",{className:"font-mono text-primary font-bold",children:e?.inviteCode||"Loading..."})]}),e?.linkedWith?ee.jsxs("div",{className:"badge badge-success gap-2 p-3",children:[ee.jsx("span",{className:"text-xs font-bold",children:"LINKED"}),ee.jsx("button",{onClick:()=>FT(r.uid,e.linkedWith),className:"hover:text-white",children:""})]}):ee.jsxs("form",{onSubmit:u,className:"join",children:[ee.jsx("input",{className:"input input-bordered input-sm join-item w-28",placeholder:"Code",value:s,onChange:f=>o(f.target.value)}),ee.jsx("button",{type:"submit",className:"btn btn-sm btn-primary join-item",children:"Link"})]})]}),ee.jsxs("div",{className:"dropdown dropdown-end",children:[ee.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar border border-primary/20",children:ee.jsx("div",{className:"w-10 rounded-full",children:ee.jsx("img",{src:r?.photoURL||"https://ui-avatars.com/api/?name=User",alt:"Profile"})})}),ee.jsxs("ul",{tabIndex:0,className:"mt-3 z-[1] p-4 shadow-xl menu menu-md dropdown-content bg-base-100 rounded-box w-64 border border-base-300",children:[ee.jsx("li",{className:"menu-title text-primary uppercase text-xs",children:r?.displayName}),ee.jsxs("div",{className:"md:hidden",children:[ee.jsx("div",{className:"divider my-1"}),ee.jsx("li",{className:"px-2 py-1",children:ee.jsxs("span",{className:"text-xs opacity-60",children:["Your Code: ",ee.jsx("b",{className:"text-base text-primary font-mono",children:e?.inviteCode})]})}),e?.linkedWith?ee.jsx("li",{children:ee.jsx("a",{onClick:()=>FT(r.uid,e.linkedWith),className:"text-error",children:"Unlink Partner"})}):ee.jsx("li",{className:"mt-2",children:ee.jsxs("form",{onSubmit:u,className:"flex gap-2",children:[ee.jsx("input",{className:"input input-bordered input-sm flex-1",placeholder:"Partner Code",value:s,onChange:f=>o(f.target.value)}),ee.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:"Link"})]})}),ee.jsx("div",{className:"divider my-1"})]}),ee.jsx("li",{children:ee.jsx("a",{children:"Profile Settings"})}),ee.jsx("li",{children:ee.jsx("button",{onClick:()=>FC(au),className:"text-error mt-2",children:"Logout"})})]})]})]})]})}const GT=({name:r,expiration:e,description:n,image:s,onUse:o,status:u})=>{const f=u==="claimed";return ee.jsxs("div",{className:`card card-compact w-full bg-base-100 shadow-xl border ${f?"border-success opacity-75":"border-base-300"} transition-all`,children:[ee.jsxs("figure",{className:"h-40 relative",children:[s?ee.jsx("img",{src:s,alt:r,className:"w-full h-full object-cover"}):ee.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center text-4xl",children:""}),f&&ee.jsx("div",{className:"absolute inset-0 bg-base-300/50 backdrop-blur-[2px] flex items-center justify-center",children:ee.jsx("span",{className:"badge badge-success badge-lg font-bold",children:"REDEEMED"})})]}),ee.jsxs("div",{className:"card-body",children:[ee.jsxs("div",{className:"flex justify-between items-start",children:[ee.jsx("h2",{className:"card-title text-lg",children:r}),ee.jsxs("div",{className:"badge badge-secondary badge-outline text-[10px]",children:["EXP: ",e]})]}),ee.jsx("p",{className:"text-sm opacity-70 line-clamp-2",children:n||"No description provided."}),ee.jsx("div",{className:"card-actions justify-end mt-4",children:ee.jsx("button",{onClick:o,disabled:f,className:`btn btn-sm w-full ${f?"btn-disabled":"btn-primary"}`,children:f?"Claimed":"Redeem Coupon"})})]})]})},ox=()=>{const r=au.currentUser,[e,n]=F.useState(null),[s,o]=F.useState([]),[u,f]=F.useState([]),[m,y]=F.useState("received"),[p,E]=F.useState({name:"",expiration:"",description:"",image:""});F.useEffect(()=>{if(!r)return;const P=mh(ui(pn,"users",r.uid),ne=>n(ne.data()));return()=>P()},[r]),F.useEffect(()=>{if(!r||!e?.linkedWith)return;const P=hp(kh(pn,"coupons"),fp("createdBy","==",e.linkedWith),jT("createdAt","desc"));return mh(P,ne=>o(ne.docs.map(te=>({id:te.id,...te.data()}))))},[r,e?.linkedWith]),F.useEffect(()=>{if(!r)return;const P=hp(kh(pn,"coupons"),fp("createdBy","==",r.uid),jT("createdAt","desc"));return mh(P,ne=>f(ne.docs.map(te=>({id:te.id,...te.data()}))))},[r]);const A=u.filter(P=>P.status==="claimed"&&P.seenByCreator===!1).length,b=P=>{y(P),P==="sent"&&u.forEach(ne=>{ne.status==="claimed"&&!ne.seenByCreator&&ex(ne.id)})},k=async P=>{try{await ZV(P.id),alert(" Reward Redeemed!")}catch{alert("Failed to redeem coupon.")}},Q=async P=>{P.preventDefault();try{await nx(r.uid,e.linkedWith,p),E({name:"",expiration:"",description:"",image:""}),document.getElementById("add_coupon_modal").close()}catch{alert("Error saving coupon")}},$=async P=>{window.confirm("Delete this coupon?")&&await tx(P)};return ee.jsxs("div",{className:"min-h-screen bg-base-100 pb-20",children:[ee.jsx(ax,{}),ee.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[ee.jsx("div",{className:"stats shadow w-full mb-8 bg-base-200",children:ee.jsxs("div",{className:"stat",children:[ee.jsx("div",{className:"stat-title",children:"Hello,"}),ee.jsx("div",{className:"stat-value text-primary text-2xl md:text-3xl",children:r?.displayName}),ee.jsx("div",{className:"stat-desc",children:e?.linkedWith?" Partner Linked":" Not Linked"}),ee.jsxs("div",{className:"stat-desc",children:["You have sent ",u.length," gifts"]})]})}),ee.jsxs("div",{role:"tablist",className:"tabs tabs-boxed mb-8 bg-base-300 p-1",children:[ee.jsxs("button",{role:"tab",className:`tab ${m==="received"?"tab-active !bg-primary !text-white":""}`,onClick:()=>b("received"),children:[" Received (",s.length,")"]}),ee.jsxs("button",{role:"tab",className:`tab relative ${m==="sent"?"tab-active !bg-primary !text-white":""}`,onClick:()=>b("sent"),children:[" Sent (",u.length,")",A>0&&ee.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[ee.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-error opacity-75"}),ee.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-error"})]})]})]}),ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ee.jsx("h2",{className:"text-xl font-bold opacity-70",children:m==="received"?"Your Rewards":"Coupons You Gifted"}),ee.jsx("button",{className:"btn btn-primary btn-sm hidden md:flex",onClick:()=>document.getElementById("add_coupon_modal").showModal(),disabled:!e?.linkedWith,children:"+ New Gift"})]}),ee.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m==="received"?s.map(P=>ee.jsx(GT,{...P,onUse:()=>k(P)},P.id)):u.map(P=>ee.jsxs("div",{className:"relative group",children:[ee.jsx(GT,{...P}),ee.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[ee.jsx("span",{className:`badge badge-sm ${P.status==="claimed"?"badge-success":"badge-ghost"} bg-base-100/80`,children:P.status||"active"}),ee.jsx("button",{onClick:()=>$(P.id),className:"btn btn-circle btn-xs btn-error",children:""})]}),P.status==="claimed"&&!P.seenByCreator&&ee.jsx("div",{className:"absolute top-2 left-2 badge badge-error badge-sm",children:"NEW CLAIM"})]},P.id))}),ee.jsx("button",{className:"btn btn-primary btn-circle btn-lg fixed bottom-6 right-6 md:hidden shadow-2xl z-50",onClick:()=>document.getElementById("add_coupon_modal").showModal(),disabled:!e?.linkedWith,children:"+"}),ee.jsxs("dialog",{id:"add_coupon_modal",className:"modal modal-bottom sm:modal-middle",children:[ee.jsxs("div",{className:"modal-box",children:[ee.jsx("h3",{className:"font-bold text-lg",children:"Create a Gift"}),ee.jsxs("form",{onSubmit:Q,className:"space-y-4 mt-4",children:[ee.jsx("input",{type:"text",placeholder:"Coupon Name",className:"input input-bordered w-full",required:!0,value:p.name,onChange:P=>E({...p,name:P.target.value})}),ee.jsx("input",{type:"date",className:"input input-bordered w-full",required:!0,value:p.expiration,onChange:P=>E({...p,expiration:P.target.value})}),ee.jsx("textarea",{placeholder:"Description",className:"textarea textarea-bordered w-full",value:p.description,onChange:P=>E({...p,description:P.target.value})}),ee.jsx("input",{type:"url",placeholder:"Image URL (Optional)",className:"input input-bordered w-full",value:p.image,onChange:P=>E({...p,image:P.target.value})}),ee.jsxs("div",{className:"modal-action",children:[ee.jsx("button",{type:"button",className:"btn",onClick:()=>document.getElementById("add_coupon_modal").close(),children:"Cancel"}),ee.jsx("button",{type:"submit",className:"btn btn-primary",children:"Send Gift"})]})]})]}),ee.jsx("form",{method:"dialog",className:"modal-backdrop",children:ee.jsx("button",{children:"close"})})]})]})]})};function lx(){const[r,e]=F.useState(null),[n,s]=F.useState(!0);return F.useEffect(()=>{const o=HC(au,u=>{e(u),s(!1)});return()=>o()},[]),n?ee.jsx("div",{className:"h-screen flex items-center justify-center",children:ee.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):ee.jsxs(U1,{children:[ee.jsx(th,{path:"/login",element:r?ee.jsx(Em,{to:"/dashboard"}):ee.jsx(WV,{})}),ee.jsx(th,{path:"/dashboard",element:r?ee.jsx(ox,{}):ee.jsx(Em,{to:"/login"})}),ee.jsx(th,{path:"*",element:ee.jsx(Em,{to:r?"/dashboard":"/login"})})]})}jw.createRoot(document.getElementById("root")).render(ee.jsx(F.StrictMode,{children:ee.jsx(lR,{children:ee.jsx(lx,{})})}));
